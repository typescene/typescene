!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(1);e.Async=i,e.observable=i.observable,e.observe=i.observe;var r=n(2);e.UI=r;var o={Async:i,UI:r,observe:i.observe};e.__esModule=!0,e["default"]=o,"object"==typeof window&&(window.Async=i,window.UI=r,window.typescene=o)},function(t,e){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(1));var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(2)),i(n(3)),i(n(4)),i(n(5)),i(n(6)),i(n(7))},function(t,e,n){"use strict";function i(t){for(var e=0;l.length&&e++<a;)try{l.shift().apply(void 0,c.shift())}catch(n){new s.UnhandledException(n).emit(!0)}l.length?t&&u||(u=setTimeout(i,0)):t||(u&&clearTimeout(u),u=0)}function r(t,e){l.push(t),c.push(e),u||(u=setTimeout(i,0))}function o(){return i(!0),l.length>0}var s=n(3),a=100,l=[],c=[],u=0;e.defer=r,e.yieldAll=o},function(t,e,n){"use strict";function i(t,e,n){void 0===t&&(t=s);var i={},r=function(e){if(this instanceof r)e!==i&&t.apply(this,arguments);else if(r.isConnected){var n=new r(i);t.apply(n,arguments),n.emit(!0)}};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r._handlers=null,r._onUp=e,r._onDown=n,r}var r=n(2),o=n(4),s=function(){function t(t){this._emitted=!1,this._data=t}return t.connect=function(t){var e=this;this._handlers||(this._handlers=[]),1===this._handlers.push(t)&&this._onUp&&this._onUp();var n={disconnect:function(){n.disconnected=!0,e._handlers&&!(e._handlers=e._handlers.filter(function(e){return e!==t})).length&&e._onDown&&e._onDown()},disconnected:!1};return n},t.connectOnce=function(t){var e=!1,n=this.connect(function(i){e||(e=!0,n.disconnect(),t.call(void 0,i))});return n},t.disconnectAll=function(){var t=this._handlers&&this._handlers.length;return delete this._handlers,t&&this._onDown&&this._onDown(),this},t.isConnected=function(){return!(!this._handlers||!this._handlers.length)},t.prototype.emit=function(t){if(this._emitted)return this;this._emitted=!0;var e=this.constructor._handlers,n=this._data;return e&&!t?this._results=e.map(function(t){return t?o.Promise.defer(t,[n]):o.Promise.resolve(void 0)}):e&&e.forEach(function(t){return t&&r.defer(t,[n])}),this._onEmit&&this._onEmit(!0),this},t.prototype.emitSync=function(){if(this._emitted)throw new Error("Signal instance already emitted");this._emitted=!0;var t,e=this.constructor._handlers;if(e){var n=this._data;t=this._syncResults=e.map(function(t){return t?t(n):void 0})}else t=this._results=[];return this._onEmit&&this._onEmit(!0),t},t.prototype.then=function(t,e){var n=this;return this._promise||(this._emitted?this._promise=o.Promise.all(this.results):this._promise=new o.Promise(function(t){n._onEmit=t}).then(function(){return o.Promise.all(n.results)})),this._promise.then(t,e)},t.prototype["catch"]=function(t){return this.then(void 0,t)},Object.defineProperty(t.prototype,"results",{get:function(){return this._results||(this._results=this._syncResults?this._syncResults.map(function(t){return o.Promise.resolve(t)}):[]),this._results},enumerable:!0,configurable:!0}),t}();e.Signal=s,e.defineSignal=i,e.UnhandledException=i(),e.UnhandledException.connect(function(t){try{t&&t.message&&console&&(console.warn||console.log)("Unhandled exception in asynchronous code - ",t)}catch(e){}})},function(t,e,n){"use strict";var i=n(2),r=n(3),o=function(){function t(t){this._Resolve=r.defineSignal(),this._Reject=r.defineSignal(),"function"==typeof t&&this._resolveWith(t)}return t.delay=function(e,n,r){var o=new t;return setTimeout(function(){o._resolveWith(function(t){return t(e.apply(void 0,r))}),i.yieldAll()},n),o},t.sleep=function(e,n){return t.delay(function(){return n},e)},t.defer=function(e,n){var r=new t;return i.defer(function(){r._resolveWith(function(t){return t(e.apply(void 0,n))})}),r},t.fn=function(e){return new t(function(t,n){e(function(e,i){e?n(e):t(i)})})},t.resolve=function(e){return(new t)._resolve(e)},t.reject=function(e){return(new t)._reject(e)},t.all=function(e){function n(){!i._isRejected&&i._resolve(r)}var i=new t,r=[],o=e.length;return e.forEach(function(t,e){t.then(function(t){r[e]=t,--o||n()},function(t){i._reject(t)})}),!o&&n(),i},t.race=function(e){var n=new t;return e.forEach(function(t){t.then(function(t){return n._resolve(t)},function(t){return n._reject(t)})}),n},t.prototype.then=function(e,n){var r=this,o=new t;return this._isResolved?"function"==typeof e?i.defer(function(){o._resolveWith(function(t){return t(e(r._value))})}):o._resolve(this._value):this._isRejected?("function"==typeof n?i.defer(function(){o._resolveWith(function(t){return t(n(r._error))})}):o._reject(this._error),this._hndRejection=!0):("function"==typeof e?this._Resolve.connect(function(t){return o._resolveWith(function(n){return n(e(t))})}):this._Resolve.connect(function(t){return o._resolve(t)}),"function"==typeof n?this._Reject.connect(function(t){return o._resolveWith(function(e){return e(n(t))})}):this._Reject.connect(function(t){return o._reject(t)})),o},t.prototype["catch"]=function(t){return this.then(void 0,t)},t.prototype._resolve=function(t,e){var n=this;if(!(this._isResolved||this._isRejected||this._resolving&&e!==this._resolving)){if(t===this)throw new TypeError("Recursive promise found");try{var i=t&&t.then;"function"!=typeof i||"object"!=typeof t&&"function"!=typeof t?(this._isResolved=!0,this._resolving=null,this._value=t,new this._Resolve(t).emit(!0)):(e=this._resolving={},i.call(t,function(t){n._resolve(t,e)},function(t){n._reject(t,e)}))}catch(r){this._reject(r,e)}}return this},t.prototype._resolveWith=function(t){var e=this;try{t(function(t){e._resolve(t)},function(t){e._reject(t)})}catch(n){this._reject(n)}return this},t.prototype._reject=function(t,e){var n=this;return this._isResolved||this._isRejected||this._resolving&&e!==this._resolving||(this._isRejected=!0,this._error=t,this._Reject.isConnected()?new this._Reject(t).emit(!0):i.defer(function(){n._hndRejection||new r.UnhandledException(t).emit(!0)})),this},t}();e.Promise=o,e.sleep=o.sleep},function(t,e,n){"use strict";function i(t){t.PropertyChange||Object.defineProperty(t,"PropertyChange",{configurable:!1,writable:!1,enumerable:!1,value:b.defineSignal()})}function r(t){return t instanceof Function?new w(t):t instanceof y.Promise?w.fromPromise(t):O.fromObject(t)}function o(t){var e=m,n=g;try{return m=null,g=null,t.apply(void 0,Array.prototype.slice.call(arguments,1))}finally{m=e,g=n}}function s(t,e,n){n||(n={enumerable:!0});var i=n.get,r=n.set,o=i||t[e];return n.set=function(t){i||r?(f(this,e,void 0,i&&i.bind(this),r&&r.bind(this),n.get["*observable-nonnull"],n.get["*observable-getfilter"],n.get["*observable-setfilter"]),this[e]=t):f(this,e,t,void 0,void 0,n.get["*observable-nonnull"],n.get["*observable-getfilter"],n.get["*observable-setfilter"])},n.get=function(){return f(this,e,i?void 0:o,i&&i.bind(this),r&&r.bind(this),n.get["*observable-nonnull"],n.get["*observable-getfilter"],n.get["*observable-setfilter"]),this[e]},n.get["*observable-getter"]=!0,n}function a(t,e,n){return n=s(t,e,n),n.get["*observable-getfilter"]=function(t){return t||0===t||t===!1?String(t):""},n}function l(t,e,n){return n=s(t,e,n),n.get["*observable-getfilter"]=function(t){return Number(t)},n}function c(t,e,n){return n=s(t,e,n),n.get["*observable-nonnull"]=!0,n}function u(t,e,n){return n=s(t,e,n),n.get["*observable-nonnull"]=!0,n.get["*observable-setfilter"]=function(t){if(!(t instanceof Object))throw new Error(t+" is not an instance of Object");return Object.isSealed(t)?t:Object.seal(t)},n}function h(t,e,n){return n=s(t,e,n),n.get["*observable-nonnull"]=!0,n.get["*observable-setfilter"]=function(t){if(!(t instanceof Object))throw new Error(t+" is not an instance of Object");return Object.isFrozen(t)?t:Object.freeze(t)},n}function d(t,e){var n=Object.getPrototypeOf(t);return n?Object.getOwnPropertyDescriptor(n,String(e))||d(n,e):null}function f(t,e,n,i,r,o,s,a){function l(){if(t[c])return t[c];var o;return n instanceof w?o=n:(o=new w,void 0!==n&&(o.value=a?a(n):n),i&&o.getter(i),r&&o.setter(r)),Object.defineProperty(t,c,{value:o,writable:!1,enumerable:!1,configurable:!0}),t.PropertyChange instanceof Function?(o.emitOnChange(t.PropertyChange,e),o._Observable_member=e,o._Observable_instance=t):t instanceof _.ObservableArray&&(o._Observable_index=e,o._Observable_array=t),o}var c=p(e);Object.prototype.hasOwnProperty.call(t,c)?O.deleteObservableProperty(t,e):Object.defineProperty(t,c,{configurable:!0,enumerable:!1,value:!1});var u=s?function(){return s(l().value)}:function(){return l().value},h=a?function(t){l().value=a(t)}:function(t){l().value=t};o?Object.defineProperty(t,e,{get:function(){var t=u();return void 0===t||null===t?function(){throw new Error(e+" is "+t)}():t},set:function(t){if(void 0===t||null===t)throw new Error(e+" cannot be "+t);h(t)},enumerable:!0,configurable:!0}):Object.defineProperty(t,e,{get:u,set:h,enumerable:!0,configurable:!0})}function p(t){return"*observable:"+t}var v=n(2),y=n(4),b=n(3),_=n(6),m=null,g=null,w=function(){function t(e,n){var i=this;this._uid=String(++t.UID),this._dirtyIdx=0,e&&(this._getter=e,this._dirtyIdx++),this._setter=n,this._Signal=b.defineSignal(void 0,function(){i._watched=!0,!i._depChecks||i._depChecks.length?(i._removeDependencies(),i._dirtyIdx++):i._removeDependencies()},function(){i._watched=!1,i._removeDependencies()})}return t.fromValue=function(e){var n=new t;return n.value=e,n},t.fromPromise=function(e){var n=new t;return e.then(function(t){n.value=t}),n},t.prototype.getter=function(t){return this._getter=t,this._dirtyIdx++,this._removeDependencies(),t&&delete this._val,this},t.prototype.setter=function(t){return this._setter=t,this},Object.defineProperty(t.prototype,"value",{get:function(){if(this._getting)return this._val;if(m?m._addConnection(this):g&&g._addCheck(this),this._needsEval()){var e=this._depConnections,n=this.hasOwnProperty("_val"),i=this._val,r=m,o=g;this._watched?(m=this,this._depConnections={}):(g=this,this._depChecks=[]),this._getting=!0,this._direct=!1;try{var s=this._getter.call(void 0);void 0===s&&this._direct||(this._val=s)}finally{this._getting=!1,m=r,g=o}if(this._valIdx=this._dirtyIdx,this._depConnections)for(var a in e)this._depConnections[a]||e[a].disconnect();n&&this._val!==i&&(this._auxSignalers&&this._auxSignalers.forEach(function(t){return t()}),new this._Signal(this._val).emitSync())}for(var l=this._val;l instanceof t;)l=l.value;return l},set:function(e){if(this._setter&&!this._setting||(e instanceof Array&&e.constructor===Array&&(e=_.ObservableArray.fromArray(e)),e instanceof Object&&e.constructor===Object&&(e=new O(e))),this._getting)this._val=e,this._direct=!0,this._valIdx=++this._dirtyIdx;else{if(this._getter&&!this._setter)throw new Error("Cannot set value");if((!this._setter||this._setting)&&this._val instanceof t&&this._val._setter)this._val.value=e;else if(this._setter&&!this._setting){this._setting=!0;try{this._setter.call(void 0,e)}finally{this._setting=!1}}else e!==this._val&&(this._val=e,this._auxSignalers&&this._auxSignalers.forEach(function(t){return t()}),new this._Signal(e).emitSync(),this._valIdx=++this._dirtyIdx)}},enumerable:!0,configurable:!0}),t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return String(this.value)},t.prototype.getLastValue=function(){for(var e=this._val;e instanceof t;)e=e.getLastValue();return e},t.prototype.watch=function(t){var e=this,n=this._Signal.connect(t&&function(e){return v.defer(t,[e])});return o(function(){return e.value}),n},t.prototype.map=function(e){var n,i=this,r={};return n=new t(function(){var t=i.value;return t===r?n.value:o(e,r=t)})},Object.defineProperty(t.prototype,"watched",{get:function(){return this._watched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"writable",{get:function(){return!this._getter||!!this._setter},enumerable:!0,configurable:!0}),t.prototype.emitOnChange=function(t,e){this._auxSignalers||(this._auxSignalers=[]),this._auxSignalers.push(function(){t(e)})},t.prototype.clear=function(){this.getter(null).setter(null)},t.prototype._needsEval=function(){return!!this._getter&&((this._valIdx||0)!==this._dirtyIdx||!this._watched&&(!this._depChecks||this._depChecks.some(function(t){return t({})})))},t.prototype._asyncEval=function(){var t=this;(this._valIdx||0)!==this._dirtyIdx||this._getting||(this._dirtyIdx++,v.defer(function(){t._watched&&t._valIdx!==t._dirtyIdx&&t.value}))},t.prototype._addConnection=function(t){if(t!==this){var e=t._Signal.connect(this._asyncEval.bind(this));(this._depConnections||(this._depConnections={}))[t._uid]=e,e._observable_dep=t}},t.prototype._addCheck=function(t){var e=this;if(t!==this){var n=t._dirtyIdx;(this._depChecks||(this._depChecks=[])).push(function(i){return!!i[e._uid]||(i[e._uid]=!0,t._dirtyIdx!==n||!t._depChecks||t._depChecks.some(function(t){return t(i)}))})}},t.prototype._removeDependencies=function(){delete this._depChecks;var t=this._depConnections;delete this._depConnections;for(var e in t)t[e].disconnect()},t.UID=0,t}();e.ObservableValue=w;var O=function(){function t(e){if(e instanceof Object){if(t.makeObservable(this,e),i(this),Object.isFrozen(e)){for(var n in e)this[n];Object.freeze(this)}else if(Object.isSealed(e)){for(var n in e)this[n];Object.seal(this)}}else i(this)}return t.fromObject=function(e){return new t(e)},t.mixin=function(e){return t.makeObservable(e,e)},t.prototype.hasObservableProperty=function(e){return t.isObservableProperty(this,e)},t}();e.ObservableObject=O,e.observe=r,e.unobserved=o,e.observable=s,e.observable_string=a,e.observable_number=l,e.observable_nonNull=c,e.observable_seal=u,e.observable_freeze=h;var O;!function(t){function e(e,n){if("string"==typeof n||"number"==typeof n){var r=String(n);f(e,r,e[r])}else{var o=n instanceof t;for(var s in n)(o?n.hasObservableProperty(s):Object.prototype.hasOwnProperty.call(n,s))&&f(e,s,n[s]);Object.defineProperty(e,"hasObservableProperty",{configurable:!1,writable:!1,enumerable:!1,value:t.prototype.hasObservableProperty}),i(e)}return e}function n(t,e){var n=p(e),i=t[n];i&&i.watched&&i.writable&&(i.value=void 0),delete t[e],delete t[n]}function r(t,e){var n=p(e);if(Object.prototype.hasOwnProperty.call(t,n))return!0;var i=d(t,e);return!!(i&&i.get&&i.get["*observable-getter"])}t.makeObservable=e,t.deleteObservableProperty=n,t.isObservableProperty=r}(O=e.ObservableObject||(e.ObservableObject={}))},function(t,e,n){"use strict";var i=n(5),r=function(){function t(){var t=this,e=i.ObservableValue.fromValue(0);Object.defineProperty(this,"length",{get:function(){return e.value},set:function(n){for(var r=e.getLastValue()||0;r<n;)i.ObservableObject.makeObservable(t,r++);for(var o=n;o<r;o++)i.ObservableObject.deleteObservableProperty(t,o);e.value=n},configurable:!0})}return t.fromArray=function(e){for(var n=new t,i=e.length-1;i>=0;i--)n[i]=e[i];return n.length=e.length,n},t.prototype.mapAsync=function(t,e){return 0},t}();e.ObservableArray=r,r.prototype=new Array,r.prototype.constructor=r;var o=r.prototype.push;r.prototype.push=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return i.unobserved(function(){return o.apply(t,e)})};var s=r.prototype.unshift;r.prototype.unshift=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return i.unobserved(function(){return s.apply(t,e)})},r.prototype.mapAsync=function(t,e){var n=this,o=new r,s=0,a=function(r){var s,a={};return s=new i.ObservableValue(function(){var l=n[r];return l===a?s.value:i.unobserved(function(i){return r>=0&&r<n.length?t.call(e||o,i,r,n):void 0},a=l)})};return Object.defineProperty(o,"length",{get:function(){var t=n.length;if(t>s){for(var e={},r=s;r<t;r++)e[r]=a(r);i.ObservableObject.makeObservable(o,e)}else for(var r=t;r<s;r++)i.ObservableObject.deleteObservableProperty(o,r);return s=t},set:function(){throw new Error("Cannot modify mapAsync result")}}),i.unobserved(function(){return o.length}),o},r.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Array.prototype.concat.apply(this.slice(0),t.map(function(t){return t instanceof r?t.slice(0):t}))}},function(t,e,n){"use strict";function i(t,e,n,i){return new o.Promise(function(r,o){try{var s=new XMLHttpRequest;if(s.open(t,e,!0),i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.setRequestHeader(a,i[a]);void 0!==n?(s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(n))):s.send(),s.onreadystatechange=function(){try{4==s.readyState&&(s.status>=200&&s.status<400?r(s.responseText):o(new Error("HTTP "+s.status+(s.responseText?": "+s.responseText:""))))}catch(t){o(t)}}}catch(l){o(l)}})}function r(t,e){return void 0===t&&(t={}),void 0===e&&(e="application/json"),t.Accept||(t.Accept=e),t}var o=n(4),s=function(){function t(){}return t.getText=function(t,e,n){if(e){var r=t.indexOf("?")<0;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t+=(r?"?":"&")+encodeURIComponent(o)+"="+encodeURIComponent(e[o]),r=!1)}return i("GET",t,void 0,n)},t.get=function(e,n,i){return t.getText(e,n,r(i)).then(function(t){return JSON.parse(t)})},t.post=function(t,e,n){return i("POST",t,e,r(n)).then(function(t){return JSON.parse(t)})},t.put=function(t,e,n){return i("PUT",t,e,r(n)).then(function(t){return JSON.parse(t)})},t["delete"]=function(t,e,n){return i("DELETE",t,e,r(n)).then(function(t){return JSON.parse(t)})},t.getHtmlContent=function(e,n,i){return t.getText(e,n,r(i,"text/html")).then(function(t){t=String(t||"");var e=t.match(/<body(?:>|\s[^>]+>)/m);if(e){t=t.slice(e.index+e[0].length);var n=t.lastIndexOf("</body>");n>=0&&(t=t.slice(0,n))}var i=document.createElement("div");i.innerHTML=t;for(var r=document.createDocumentFragment();i.firstChild;)r.appendChild(i.firstChild);return r})},t}();e.Http=s}])},function(t,e,n){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(1));var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(2)),i(n(6)),i(n(11)),i(n(15)),i(n(18)),i(n(20)),i(n(51)),i(n(19))},function(t,e,n){"use strict";var i=n(3),r=n(4),o=0,s=function(){function t(t,e,n){this._UID=o++,this._status=new i["default"].ObservableValue,this._isOverridden=new i["default"].ObservableValue,this._className=i["default"].ObservableValue.fromValue(e||""),this._hidden=i["default"].ObservableValue.fromValue(n),void 0===e&&void 0===n||(this._status.value=2),t&&this.set(t)}return t.applyGlobalCSS=function(e,n){var i=[];for(var r in e){var o=e[r];o instanceof t||(o=(new t).set(o));var s=document.createElement("div");o.applyTo(s);var a=s.style.cssText;n&&(a=a.split(";").map(function(t){return t?t+" !important":""}).join("; ")),a&&i.push(r+" {"+a+"}")}if(i.length){var l=document.createElement("style");l.appendChild(document.createTextNode(i.join("\n"))),document.head.appendChild(l)}},t.loadExternalCSS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i["default"].Promise.race([i["default"].Promise.sleep(1e3),i["default"].Promise.all(t.map(function(t){return new i["default"].Promise(function(e,n){var i=document.createElement("link");i.addEventListener("load",function(){e(null)}),i.addEventListener("error",function(){n(new Error)}),i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t),document.getElementsByTagName("head").item(0).appendChild(i)})}))])},t.setCSSRemSize=function(t){this.applyGlobalCSS({html:{fontSize:t+"px"}})},t.prototype.addClass=function(t){if(t){this._status.value=2;var e={},n=String(this._className.value).split(/\s+/).filter(function(t){return t&&(e["_"+t]=!0)});t.split(/\s+/).forEach(function(t){t&&!e["_"+t]&&n.push(t)}),this._className.value=n.join(" ")}return this},t.prototype.removeClass=function(t){return this._status.value=2,this._className.value=String(this._className.value).split(/\s+/).filter("string"==typeof t?function(e){return e!==t}:function(e){return!t.test(e)}).join(" "),this},t.prototype.setClass=function(t){this._status.value=2,this._className.value=t},t.prototype.get=function(t){var e=this._cssProps&&this._cssProps[t];return this._overrides&&this._overrides.forEach(function(n){var i=n.get(t);void 0!==i&&(e=i)}),e},t.prototype.hide=function(){return this._status.value=2,this._hidden.value=!0,this},t.prototype.show=function(){return this._status.value||(this._status.value=1),this._hidden.value=!1,this},t.prototype.set=function(t,e){var n=this;if(this._cssProps||(this._cssProps=new i["default"].ObservableObject),"string"==typeof t)(this._cssProps[t]=e)?this._status.value=2:this._status.value||(this._status.value=1),this._cssProps.hasObservableProperty(t)||i["default"].ObservableObject.makeObservable(this._cssProps,t);else{var r,o;for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r=!0,(this._cssProps[s]=t[s])&&(o=!0),this._cssProps.hasObservableProperty(s)||i["default"].ObservableObject.makeObservable(this._cssProps,s));r&&(o?this._status.value=2:this._status.value||(this._status.value=1)),t instanceof i["default"].ObservableObject&&(this._observables||(this._observables=new i["default"].ObservableArray),this._observables.some(function(e){return e===t})||(this._observables.push(t),t.PropertyChange.connect(function(e){Object.prototype.hasOwnProperty.call(n._cssProps,e)||(i["default"].ObservableObject.makeObservable(n._cssProps,{key:""}),n._sortedProps.push(e),n._sortedProps.sort().forEach(function(t,e){n._sortedProps[e]=t})),n._status.value=2,n._cssProps[e]=t[e]})))}this._sortedProps||(this._sortedProps=new i["default"].ObservableArray);var a=Object.keys(this._cssProps).sort();return this._sortedProps.length=a.length,a.forEach(function(t,e){n._sortedProps[e]=t}),this},t.prototype.override=function(e){return this._overrides||(this._overrides=new i["default"].ObservableArray,this._isOverridden.value=!0),e instanceof i["default"].ObservableValue?this._overrides.push(i["default"].observe(function(){var n=e.value;return n instanceof t||(n=new t(n)),n})):(e instanceof t||(e=new t(e)),this._overrides.push(e)),this},t.prototype.applyTo=function(t){if(t instanceof r.ComponentRenderHtmlOutput)this._lastAppliedTo=t,this.applyTo(t.element);else if(t instanceof HTMLElement){var e=[],n="",i=this;!function u(t){t._status.value>=(t===i?2:1)&&e.push(t),n+="|"+t._UID,t._isOverridden.value&&t._overrides.forEach(u)}(this);var o=!1;if(n!==this._lastOverrides?o=!0:t.style.cssText!==this._lastCSSText&&(o=!0),o&&t.style.length){for(var s=[],a=t.style.length-1;a>=0;a--)s.push(t.style.item(a));s.forEach(function(e){return t.style.removeProperty(e)})}var l,c="";e.forEach(function(e){e&&(e._sortedProps&&e._sortedProps.forEach(function(n){t.style[n]=e._cssProps[n]}),c+=(c?" ":"")+e._className.value,e._hidden.value===!1&&(l=!1),e._hidden.value===!0&&(l=!0))}),t.className=c,l?t.setAttribute("hidden","hidden"):t.removeAttribute("hidden"),this._lastCSSText=t.style.cssText}},t.prototype.applyToAsync=function(t){var e=this;return t instanceof r["default"]&&(this._lastAppliedTo=t),i["default"].observe(function(){return e._lastAppliedTo&&e._lastAppliedTo!==t||e.applyTo(t),!0}).value,this},t}();e.Style=s;var s;!function(t){}(s=e.Style||(e.Style={}));var s;!function(t){t.DROPCARD_UP_SHADOW={boxShadow:"0 0 1.5rem -.25rem rgba(0,0,0,.12),0 .5rem 1rem -.25rem rgba(0,0,0,.25),0 1rem 1rem -1rem rgba(0,0,0,.4)"}}(s=e.Style||(e.Style={}));var s;!function(t){t.DROPCARD_SHADOW={boxShadow:"0 0 .5rem -.125rem rgba(0,0,0,.18),0 .25rem .5rem -.25rem rgba(0,0,0,.25),0 .5rem 1rem -.5rem rgba(0,0,0,.2)"}}(s=e.Style||(e.Style={}));var s;!function(t){t.DROPCARD_UP={border:"0",backgroundClip:"border-box",borderRadius:".25rem",overflow:"hidden",transition:"box-shadow .2s ease",boxShadow:t.DROPCARD_UP_SHADOW.boxShadow}}(s=e.Style||(e.Style={}));var s;!function(t){t.DROPCARD={border:"0",backgroundClip:"border-box",borderRadius:".25rem",overflow:"hidden",transition:"box-shadow .2s ease",boxShadow:t.DROPCARD_SHADOW.boxShadow}}(s=e.Style||(e.Style={})),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e){t.exports=n(1)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(5),o=function(){function t(t,e){this.isComponentOutput=!0,this.component=t,this.element=e}return t}();e.ComponentRenderOutput=o;var s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e}(o);e.ComponentRenderHtmlOutput=s,e.RenderHandler=r.ActionHandler,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";function i(t){return t.connectTo=function(e){return e.connect(t)},t._isEventHandler=!0,t}var r=n(3);e.DOMEventSignalClass=function(t,e,n){var i,o=r["default"].defineSignal(void 0,function(){t.then(function(t){if(!i){var s=t.liveElement||t.element;i=function(t){if(t.currentTarget||(t.currentTarget=s),o(t),!n)for(;r["default"].yieldAll(););},s.addEventListener(e,i,n)}})},function(){t.then(function(t){i&&!o.isConnected&&((t.liveElement||t.element).removeEventListener(e,i),i=null)})});return o},e.ActionHandler=i,e.EventHandler=i,e.KeyHandler=i,e.MouseHandler=i,e.DragHandler=i,e.FocusHandler=i},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(5)),i(n(4)),i(n(7)),i(n(9)),i(n(10)),i(n(13)),i(n(14)),i(n(23)),i(n(16)),i(n(24)),i(n(25)),i(n(26)),i(n(27)),i(n(28)),i(n(29)),i(n(30)),i(n(31)),i(n(32)),i(n(21)),i(n(33)),i(n(17)),i(n(34)),i(n(35)),i(n(36)),i(n(37)),i(n(38)),i(n(22)),i(n(39)),i(n(40)),i(n(41)),i(n(42)),i(n(43)),i(n(44)),i(n(45)),i(n(46)),i(n(47)),i(n(48)),i(n(49)),i(n(50))},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(5),l=n(8);e.CSS_CLASS_PREFIX="UI-";var c=function(t){function n(){var e=this;t.apply(this,arguments),this.initializeWith=function(t){return e.constructor["with"](t)._init(e)},this.style=new s["default"]((void 0),this._initialStyleClassName,(!1)),this._renderedOut=new o["default"].Promise(function(t){e._resolve_renderedOut=t}),this.Rendered=o["default"].defineSignal(),this.Click=this.defineDOMEventSignal("click"),this.Press=this.defineDOMEventSignal("mousedown"),this.MouseOver=this.defineDOMEventSignal("mouseover"),this.MouseOut=this.defineDOMEventSignal("mouseout"),this.Focus=this.defineDOMEventSignal("focus",!0),this.Blur=this.defineDOMEventSignal("blur",!0),this.KeyDown=this.defineDOMEventSignal("keydown"),this.DragStart=this.defineDOMEventSignal("uidragstart"),this.DragOver=this.defineDOMEventSignal("uidragover"),this.DragOut=this.defineDOMEventSignal("uidragout"),this.DragDrop=this.defineDOMEventSignal("uidragdrop")}return i(n,t),n.setGlobalCSS=function(t,n,i){var r=this.prototype._initialStyleClassName||"_style";this.prototype._initialStyleClassName=r+=t?" "+e.CSS_CLASS_PREFIX+t:"";var o=r.split(/\s+/).map(function(t){return"."+t}).join("");if(n){if(n instanceof Array){var a={};n.forEach(function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e])}),n=a}u?u[o]=n:s["default"].applyGlobalCSS(n)}if(i)for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(u[o+l]=i[l])},Object.defineProperty(n.prototype,"out",{get:function(){this.render();var t=this.out;if(!t)throw new Error("Component not rendered");return this.style.applyToAsync(t),this.Rendered({component:this,out:t}),this._resolve_renderedOut&&t&&(this._resolve_renderedOut(t),this._resolve_renderedOut=null),t},enumerable:!0,configurable:!0}),n.prototype.getChildren=function(){return[]},n.prototype.getComponentById=function(t){for(var e=this.getChildren();e.length;){var n=e.shift();if(n&&n.id===t)return n;n&&n.getChildren().forEach(function(t){return e.push(t)})}return null},n.prototype.getComponentsByType=function(t){var e=[];return this.getChildren().forEach(function(n){n instanceof t&&e.push(n),n.getComponentsByType(t).forEach(function(t){return e.push(t)})}),e},n.prototype.getFormValues=function(t){return void 0===t&&(t={}),this.getChildren().forEach(function(e){e.getFormValues(t)}),t},n.prototype.setFormValues=function(t){var e=this;o["default"].unobserved(function(){e.getChildren().forEach(function(e){e.setFormValues(t)})})},n.prototype.defineDOMEventSignal=function(t,e){return new a.DOMEventSignalClass(this._renderedOut,t,e)},n["with"]=l._makeFactory,r([o["default"].observable_nonNull],n.prototype,"style",void 0),r([o["default"].observable],n.prototype,"out",null),n}(o["default"].ObservableObject);e.Component=c;var c;!function(t){var e=function(){function t(){}return t}();t.AbstractRenderOutputElement=e}(c=e.Component||(e.Component={}));var u={};o["default"].defer(function(){s["default"].applyGlobalCSS(u),u=null}),c.setGlobalCSS("Component"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";function i(){return this._init(new this._target)}function r(t){var e=this._init;return this._init=function(n,i){return t(e(n,i),i||n),n},this}function o(t){return this.then(function(e,n){return l(t,e,n)})}function s(t,e,n){return this.then(function(i,r){var o=e.split(".").reduce(function(t,e){return function(){return(t()||{})[e]}},function(){return r||i});i[t]=d["default"].observe(n?function(){return n(o())}:function(){return o()})})}function a(t){var e=function(){return e.create()};return e._isComponentFactory=!0,e._target=this,e._init=function(e,n){return l(t,e,n)},e.create=i,e.then=r,e["with"]=o,e.withProperty=s,e}function l(t,e,n){t.id&&((n||e)[t.id]=e);var i=function(i){e[i]instanceof Function&&e[i].prototype instanceof d["default"].Signal?t[i]&&(t[i]._isEventHandler?e[i].connect(t[i]):e[i].connect(function(){return(n||e)[t[i]]()})):e[i]instanceof f["default"]?e[i]=e[i].override(t instanceof d["default"].ObservableObject?d["default"].observe(function(){return t[i]}):t[i]):t instanceof d["default"].ObservableObject&&(e.hasObservableProperty(i)||"value"===i)?e[i]=d["default"].observe(function(){return t[i]}).setter(function(e){t[i]=e}):e[i]=t[i]};for(var r in t)i(r);return e}function c(t,e,n,i){if(t&&t._isComponentFactory&&(t=t._init(new t._target,n)),"string"==typeof t||"number"==typeof t)i||(t=new y.Label(String(t)));else if(t instanceof Array)t=e===y.TableRow?new y.TableRow(u(t,y.ControlElement,n,!0)):new y.Row(u(t,y.ControlElement,n));else if(t instanceof Function&&t.prototype instanceof p["default"])t=new t;else if(t instanceof v["default"])return t=t.getComponent(),e!==y.ControlElement&&(t=new y.Row([t]),e!==y.Block&&(t=new e([t]))),t;return e===y.ControlElement?t instanceof y.Container?new y.ContainerControl(t):t instanceof y.Block&&!i?new y.BlockControl(t):t:e===y.Block?t instanceof y.ControlElement?new y.Row([t]):t instanceof y.Container?new y.ContainerBlock(t):t:e===y.TableRow?t instanceof y.TableRow?t:(t instanceof y.Container&&(t=new y.ContainerControl(t)),
void 0!==t?new y.TableRow([t]):t):(t instanceof y.ControlElement&&(t=new y.Row([t])),t instanceof y.Block&&(t=new e([t])),t)}function u(t,e,n,i){return t instanceof d["default"].ObservableValue?d["default"].observe(function(){return u(t.value,e,n,i)}):t instanceof d["default"].ObservableArray?t.mapAsync(function(t){return c(t,e,n,i)}):t&&t.map?t.map(function(t){return t instanceof d["default"].ObservableValue?t.map(function(t){return c(t,e,n,i)}):c(t,e,n,i)}):[]}function h(t,e,n,i,r){if(!t.hasObservableProperty||!t.hasObservableProperty(e)){var o=t[e];if(!(o instanceof d["default"].ObservableValue))return c(o,n,i,r)}return d["default"].observe(function(){var o=t[e];return o instanceof d["default"].ObservableValue&&(o=o.value),c(o,n,i,r)})}var d=n(3),f=n(2),p=n(7),v=n(9),y=n(6);e._makeFactory=a,e._transformFactoryArray=u,e._transformObservableInitializer=h},function(t,e,n){"use strict";function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,o;if(t instanceof Array){var a=t.length,l=0,c=e&&e.map(function(t){return"function"==typeof t&&(l++,t=new r["default"].ObservableValue(t)),t});if(i=function(){for(var e="",n=0;n<a;n++)n&&(e+=String(c&&c[n-1])),e+=t[n];return e},!l)return new s(i())}else{if(!(t instanceof Function))return new s(t,e[0]);i=t,o=e[0]}return new s(new r["default"].ObservableValue(i),o)}var r=n(3),o=n(1),s=function(){function t(t,e){this._value=t instanceof r["default"].ObservableValue?t:String(t),e&&(this._baseClass=e)}return t.prototype.toString=function(){return String(this._value).replace(/^\{[^\}]\}/,"")},t.prototype.getComponent=function(){var t=this;if("string"==typeof this._value)return this._createComponent(this._value);var e;return this._value.map(function(n){return e=t._createComponent(n,e)})},t.prototype._createComponent=function(t,e){var n,i,r,s=this._baseClass,a=String(t);if("{"===a.charAt(0)){var l=a.indexOf("}");if(l>0){var c=a.slice(1,l).split("|");a=a.slice(l+1),n={},c.forEach(function(t){switch(t){case"p":s=o.Paragraph;break;case"w":s=o.WideLabel;break;case"l":s=o.Label;break;case"h1":s=o.Heading1;break;case"h2":s=o.Heading2;break;case"h3":s=o.Heading3;break;case"h4":s=o.Heading4;break;case"h5":s=o.Heading5;break;case"h6":s=o.Heading6;break;case"b":n.fontWeight="bold";break;case"i":n.fontStyle="italic";break;case"u":n.textDecoration="underline";break;case"left":case"right":case"center":n.textAlign=t,s||(s=o.Paragraph);break;default:if(/^l:[\d\.]+(\%|[a-z]+)$/.test(t))r=t.slice(2);else if(/^#\w+$/.test(t))n.color=t;else if(/^icon:/.test(t))i=t.slice(5);else if(/^\d+$/.test(t))n.fontWeight=t;else if(/^[\d\.]+(\%|[a-z]+)$/.test(t))n.fontSize=t;else{var e=/^([\w-]+)\s*=\s*(.*)$/.exec(t);if(e){var a=e[1].replace(/-\w/g,function(t){return t.charAt(1).toUpperCase()}),l=e[2];n[a]='"'===l.charAt(0)?JSON.parse(l):l}}}})}}s||(s=o.Label);var u=e instanceof s?e:new s;return i&&(u.icon=i),n&&u.style.override(n),r&&(u.width=r),u.text=a,u},t}();e.TextLabelFactory=s,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s,e.tl=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(11),a=n(7),l=n(6),c=n(8),u=n(4),h=n(12),d=function(t){function e(n){var i=this;t.call(this),this.content=[],this.vertAlign=e.VertAlign.Top,this.maxContentWidth="auto",this.scrollable=!1,this.collapsed=!1,this.collapseTransition=0,this.displayOptions={},this._observeCollapsed=o["default"].observe(function(){var t=i._mainWrapper?i._mainWrapper.scrollHeight:0;return i.collapsed&&!i._wasCollapsed?(i.style.set({maxHeight:t+"px",transition:"max-height "+(i.collapseTransition||0)+"s ease-out"}),o["default"].Promise.sleep(1).then(function(){i.collapsed?(i.style.set({maxHeight:"0px"}),i._wasCollapsed=!0):i.style.set({maxHeight:"",transition:""})})):!i.collapsed&&i._wasCollapsed&&(i.style.set({maxHeight:t+"px",transition:"max-height "+(i.collapseTransition||0)+"s ease-out"}),o["default"].Promise.sleep(1e3*i.collapseTransition+10).then(function(){i.collapsed||i._wasCollapsed||i.style.set({maxHeight:"",transition:""})}),i._wasCollapsed=!1),!0}),this._hasFocus=o["default"].ObservableValue.fromValue(!1),this._hoverState=o["default"].ObservableValue.fromValue(!1),this._wasCollapsed=!1,void 0!==n&&(this.content=n),this.MouseOver.connect(function(){i._hoverState.value=!0}),this.MouseOut.connect(function(){i._hoverState.value=!1}),this.Blur.connect(function(){i._hasFocus.value=!1}),this.Focus.connect(function(t){i._lastFocused=t.target,i._hasFocus.value=!0})}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).then(function(e,n){e.content=c._transformFactoryArray(t.content,l.Block,n),t.focusFirst&&e.restoreFocus()})},e.withContent=function(t){return this["with"]({content:t})},e.prototype.initializeWithContent=function(t){return this.initializeWith({content:t})},Object.defineProperty(e.prototype,"hoverState",{get:function(){return this._hoverState.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasFocus",{get:function(){return this._hasFocus.value},enumerable:!0,configurable:!0}),e.prototype.restoreFocus=function(){var t=this;if(this._mainWrapper){for(var e=this._lastFocused,n=e,i=!1;n&&!n.hidden;){if(n===this._mainWrapper){i=!0;break}n=n.parentNode}if(e&&i)h._focusElementASAP(e);else{var r=0,o=this._mainWrapper;window.setTimeout(function s(){for(var t=o.querySelectorAll("[tabindex],a[href],input:not([disabled]),button:not([disabled]),textarea:not([disabled]), select:not([disabled])"),e=0;e<t.length;e++){for(var n=t[e],i=!1;n&&!i;)n.hasAttribute("hidden")&&(i=!0),n=n.parentElement;if(!i)return void h._focusElementASAP(t[e])}r++<5&&window.setTimeout(s,10*r)},1)}}else this.Rendered.connect(function(){return t.restoreFocus()});return this},e.prototype.removeFocus=function(){return this._lastFocused&&this._lastFocused.blur(),this},e.prototype.hasEmptyList=function(t){return void 0===t&&(t=l.List),this.getComponentsByType(t).some(function(t){return!(t.items&&t.items.length)})},e.prototype.render=function(){if(!this.out){var t=document.createElement("container");this._mainWrapper=document.createElement("containerwrapper"),this._cellWrapper=document.createElement("div"),this._mainWrapper.appendChild(this._cellWrapper),t.appendChild(this._mainWrapper),this.out=new u.ComponentRenderHtmlOutput(this,t),this.out.elements={wrapper:this._mainWrapper}}"auto"===this.style.get("width")?(this._mainWrapper.style.tableLayout="auto",this._mainWrapper.style.width="auto"):(this._mainWrapper.style.tableLayout="fixed",this._mainWrapper.style.width="100%");var n=this.content.map(function(t){return t&&t.out});h._replaceInner(this._cellWrapper,n),this._cellWrapper.style.verticalAlign=e.VertAlign[this.vertAlign].toLowerCase(),this._observeCollapsed.value,(this.scrollable||this.style.get("overflow"))&&this.style.set({overflow:this.scrollable?"auto":"hidden"}),this._mainWrapper.style.maxWidth=this.maxContentWidth},e.prototype.display=function(){var t=this,n=function(e){if(t._mainWrapper){for(var n=e.target;n&&n!==t._mainWrapper;)n=n.parentNode;n!==t._mainWrapper&&(t.KeyDown(e),o["default"].yieldAll())}},i=this.displayOptions.vertAlign,r=this.displayOptions.horzAlign;return this.displayOptions&&this.displayOptions.modal?s["default"].displayModal(this,this.displayOptions.onEsc,this.displayOptions.shade,void 0!==i?e.VertAlign[i].toLowerCase():"",void 0!==r?e.HorzAlign[r].toLowerCase():"",this.displayOptions.margin,this.displayOptions.noAnimation,n):s["default"].display(this,void 0!==i?e.VertAlign[i].toLowerCase():"",void 0!==r?e.HorzAlign[r].toLowerCase():"",this.displayOptions.margin,n),this},e.prototype.getChildren=function(){return this.content.filter(function(t){return t instanceof a["default"]})},r([o["default"].observable_nonNull],e.prototype,"content",void 0),r([o["default"].observable],e.prototype,"vertAlign",void 0),r([o["default"].observable_string],e.prototype,"maxContentWidth",void 0),r([o["default"].observable],e.prototype,"scrollable",void 0),r([o["default"].observable],e.prototype,"collapsed",void 0),r([o["default"].observable_number],e.prototype,"collapseTransition",void 0),e}(a["default"]);e.Container=d;var d;!function(t){!function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"}(t.VertAlign||(t.VertAlign={}));t.VertAlign}(d=e.Container||(e.Container={}));var d;!function(t){!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(t.HorzAlign||(t.HorzAlign={}));t.HorzAlign}(d=e.Container||(e.Container={})),d.setGlobalCSS("Container",{display:"inline-block",boxSizing:"border-box",position:"relative",top:"0",bottom:"0",left:"0",right:"0",height:"100%",width:"100%",textAlign:"center",margin:"0 auto",overflow:"hidden"},{" containerwrapper":{display:"table",borderSpacing:"0",height:"100%",margin:"0 auto"}," containerwrapper > div":{display:"table-cell"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=d},function(t,e,n){"use strict";var i=n(3),r=n(2),o=n(7),s=function(){function t(){throw new TypeError}return t.display=function(e,n,i,r,s){var a=this;if(e&&e.then)e.then(function(t){return a.display(t,n,i,r,s)});else if(e instanceof o["default"]){if(this._stack.some(function(t){return t.component===e}))return;var l=t._layerElement(e,n,i,r);l.onKeyDown=s,this._stack.push(l),this._update()}},t.displayModal=function(e,n,r,s,a,l,c,u){var h=this;if(void 0===r&&(r=!0),e&&e.then)e.then(function(t){return h.displayModal(t,n,r,s,a,l,c,u)});else if(e instanceof o["default"]){if(this._stack.some(function(t){return t.component===e}))return;document.activeElement&&document.activeElement.blur(),n||(n=function(){return h.remove(e)});var d=t._layerElement(e,s,a,l);if(d.onKeyDown=u,d.onEsc=n,d.modal=!0,d.shade=r,this._stack.push(d),!c){var f=e.out.element;if(f&&f instanceof HTMLElement){var p=f.style;p.transform=("left"==a?"translateX(-50%)":"right"==a?"translateX(50%)":"")+("100%"!=p.height?"top"==s?"translateY(-50%)":"bottom"==s?"translateY(50%)":"":""),p.opacity="0",p.transition="transform .2s ease, opacity .3s ease",i["default"].Promise.delay(function(){p.transform="translateX(0) translateY(0)",p.opacity="1"},50)}}this._update()}},t.isDisplayed=function(t){return this._stack.some(function(e){return e.component===t})},t.remove=function(t,e){var n=this;t&&t.then?t.then(function(t){return n.remove(t)}):t instanceof o["default"]&&(this._stack=this._stack.filter(function(e){return e.component!==t||(e.disconnect(),!1)}),this._update(e))},t.closeModal=function(t){for(;this._stack.length;){var e=this._stack[this._stack.length-1];if(!e.modal)break;if(e.disconnect(),this._stack.pop(),!t)break}this._update()},t.clear=function(t){if(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),this._stack.forEach(function(t){return t.disconnect()}),this._stack=[],this._update(t),t){var e=document.createElement("div");e.style.position="absolute",e.style.top="0",e.style.bottom="0",e.style.left="0",e.style.right="0",e.style.zIndex="1000000000",this._screen.appendChild(e)}},t.fade=function(t,e,n){var r=this;void 0===e&&(e=0),void 0===n&&(n=500);for(var o,s=0,a=this._stack;s<a.length;s++){var l=a[s];if(l.component===t){o=l;break}}var c=o&&o.elt;return c&&c.setAttribute?(c.setAttribute("screen-removing","removed"),c.style.transition="opacity "+n/1e3+"s ease",this.remove(t),new i["default"].Promise(function(i){window.setTimeout(function(){c&&c.hasAttribute("screen-removing")?(c.style.opacity="0",window.setTimeout(function(){c&&c.hasAttribute("screen-removing")?(i(t),c.style.transition="",c.style.opacity="",c.parentNode&&c.parentNode.removeChild(c),r._screen.hidden=!r._screen.firstChild):i(t)},n),c.previousSibling===r._shade&&r._fadeShadeOut()):i(t)},e)})):i["default"].Promise.resolve(t)},t._update=function(t){var e=this;this.isBlank=!this._stack.length,this._pendingUpdate||t||(this._pendingUpdate=this.ready.then(function(){e._pendingUpdate=null;for(var t,n=[],i=!1,r=!1,o=function(){var o=e._stack[--s],a=o.out.value;if(!a)return"continue";if(i?a.setAttribute("screen-behind","behind"):a.removeAttribute("screen-behind"),"overlaycell"===String(a.nodeName).toLowerCase()&&(t=document.createElement("overlay"),t.setAttribute("data-dismiss","overlay"),t.style.display="table",t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.appendChild(a),a=t),o.modal){r=!0;var l=o.elt?o.elt.scrollTop:0,c=document.createElement("modal");c.setAttribute("data-dismiss","overlay"),c.style.position="fixed",c.style.top="0",c.style.bottom="0",c.style.left="0",c.style.right="0",c.style.textAlign="center",c.style.zIndex=String(1e3*s),c.style.overflow="auto",c.appendChild(a),c.scrollTop=l,window.setTimeout(function(){c.scrollTop=l},0),a=c;var u=function(t){if(o.onEsc)for(var e=t.target;e;){if(e.hasAttribute&&e.hasAttribute("data-dismiss")){var n=e.getAttribute("data-dismiss");return"modal"===n&&o.onEsc(),void("overlay"===n&&t.target===e&&o.onEsc())}e=e.parentElement}};a.onmousedown=u,a.ontouchstart=u}n.unshift(o.elt=a),o.shade&&!i&&(i=!0,e._shade.style.zIndex=String(1e3*s),n.unshift(e._shade))},s=e._stack.length;s>0;)o();for(var a=e._screen.lastChild,l=null,c=n.length-1;c>=0;c--){var u=n[c];for(u.removeAttribute("screen-removing");a&&(a.getAttribute&&a.getAttribute("screen-removing")||a===e._shade&&u!==e._shade);)l=a,a=a.previousSibling;u!==a&&e._screen.insertBefore(u,l),a=u.previousSibling,l=u}for(;a;){var h=a.previousSibling;a.getAttribute&&a.getAttribute("screen-removing")||e._screen.removeChild(a),a=h}e._screen.hidden=!e._screen.firstChild,i?e._fadeShadeIn():e._fadeShadeOut(),e.isModalDisplayed=r}))},t._layerElement=function(t,e,n,r){var o,s=i["default"].observe(function(){var i=t.out.element;return i&&i instanceof HTMLElement&&(e||n||r)&&(o||(o=document.createElement("overlaycell"),o.setAttribute("data-dismiss","overlay"),o.style.display="table-cell",o.style.verticalAlign=e||"top",o.style.textAlign=n||"center",o.style.overflow="hidden"),o.style.padding=r||"0",o.firstChild!==i&&(o.firstChild&&o.removeChild(o.firstChild),o.appendChild(i)),i=o),i}),a=s.watch();return{component:t,out:s,disconnect:function(){return a.disconnect()}}},t._fadeShadeIn=function(){var t=this;this._shadeFadeTimer>=0&&window.clearTimeout(this._shadeFadeTimer),this._shadeFadeTimer=NaN;var e=this._shadeFadeTimer=window.setTimeout(function(){t._shadeFadeTimer===e&&(t._shade.style.opacity="1")},0)},t._fadeShadeOut=function(){var e=this;if(this._shade.parentNode){this._shadeFadeTimer>=0&&window.clearTimeout(this._shadeFadeTimer),this._shade.style.opacity="0";var n=this._shadeFadeTimer=window.setTimeout(function(){e._shadeFadeTimer===n&&e._shade.parentNode&&(e._shade.parentNode.removeChild(e._shade),e._screen.hidden=!e._screen.firstChild)},1e3*t.SHADE_TRANSITION_SEC)}},t._init=function(e){var n=this;r["default"].setCSSRemSize(16),r["default"].applyGlobalCSS({"[hidden]":{display:"none"}},!0);var s="blur("+t.SHADE_BLUR+"px)";r["default"].applyGlobalCSS({"[screen-behind]":{webkitFilter:s,filter:s}},!0);var a=this._screen=document.createElement("screen");this.style.addClass(o.CSS_CLASS_PREFIX+"Screen"),i["default"].observe(function(){return n.style.applyTo(a)}).watch(),document.body.appendChild(a);var l=document.createElement("modalshade");l.style.position="fixed",l.style.top=l.style.bottom=l.style.left=l.style.right="0",l.style.background="rgba(0,0,0,"+t.SHADE_OPACITY+")",l.style.backgroundImage="radial-gradient(rgba(0,0,0,"+t.SHADE_GRADIENT_CENTER+"), rgba(0,0,0,0))",l.style.transition="opacity "+t.SHADE_TRANSITION_SEC+"s ease",l.style.opacity="0",this._shade=l;var c=!1;i["default"].defer(function(){function n(){var e=t.width=c?a.clientWidth:window.innerWidth;t.height=c?a.clientHeight:window.innerHeight,e!==r&&(e>=t.EXTRALARGE_WIDTH?(t.isSmall=t.isExtraSmall=!1,t.isLarge=t.isExtraLarge=!0,t.style.setClass(o.CSS_CLASS_PREFIX+"Screen "+o.CSS_CLASS_PREFIX+"Screen-Large "+o.CSS_CLASS_PREFIX+"Screen-ExtraLarge")):e>=t.LARGE_WIDTH?(t.isExtraLarge=t.isSmall=t.isExtraSmall=!1,t.isLarge=!0,t.style.setClass(o.CSS_CLASS_PREFIX+"Screen "+o.CSS_CLASS_PREFIX+"Screen-Large")):e<t.EXTRASMALL_WIDTH?(t.isLarge=t.isExtraLarge=!1,t.isExtraSmall=t.isSmall=!0,t.style.setClass(o.CSS_CLASS_PREFIX+"Screen "+o.CSS_CLASS_PREFIX+"Screen-Small "+o.CSS_CLASS_PREFIX+"Screen-ExtraSmall")):e<t.SMALL_WIDTH?(t.isExtraLarge=t.isLarge=t.isExtraSmall=!1,t.isSmall=!0,t.style.setClass(o.CSS_CLASS_PREFIX+"Screen "+o.CSS_CLASS_PREFIX+"Screen-Small")):(t.isExtraLarge=t.isLarge=t.isSmall=t.isExtraSmall=!1,t.style.setClass(o.CSS_CLASS_PREFIX+"Screen")))}function i(){n(),setTimeout(i,s),s=500}var r=void 0;window.addEventListener("resize",n);var s=2e3;i(),c||e(c=!0)}),document.addEventListener("keydown",function(t){if(n._stack.length){var e=n._stack[n._stack.length-1];e.onKeyDown&&e.onKeyDown.call(window,t),!t.defaultPrevented&&27==t.keyCode&&e.onEsc&&e.onEsc.call(window)}})},t.SHADE_OPACITY=.2,t.SHADE_GRADIENT_CENTER=.2,t.SHADE_BLUR=1.2,t.SHADE_TRANSITION_SEC=.2,t.ready=new i["default"].Promise(function(e){return document.addEventListener("DOMContentLoaded",function(){t._init(e)})}),t.isBlank=!0,t.style=new r["default"]({position:"fixed",top:"0",bottom:"0",left:"0",right:"0",overflow:"auto",textAlign:"center",cursor:"default"}),t.width=NaN,t.height=NaN,t.isModalDisplayed=!1,t.isExtraSmall=!1,t.isSmall=!1,t.isLarge=!1,t.isExtraLarge=!1,t.EXTRASMALL_WIDTH=550,t.SMALL_WIDTH=720,t.LARGE_WIDTH=960,t.EXTRALARGE_WIDTH=1200,t._stack=[],t}();e.Screen=s,i["default"].ObservableObject.makeObservable(s,{width:s.width,height:s.height,isExtraSmall:s.isExtraSmall,isSmall:s.isSmall,isLarge:s.isLarge,isBlank:s.isBlank,isModalDisplayed:s.isModalDisplayed}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e){"use strict";function n(t,e){for(var n=e.length,i=t.isComponentOutput?t.element:t,r=i.firstChild,o=0;o<n&&r;o++)if(e[o]){var s=e[o].isComponentOutput?e[o].element:e[o],a=r.nextSibling;r!==s&&i.replaceChild(s,r),r=a,r===s&&(r=r.nextSibling)}for(;r;){var a=r.nextSibling;i.removeChild(r),r=a}for(;o<n;o++)e[o]&&i.appendChild(e[o].isComponentOutput?e[o].element:e[o]);return i}function i(t){function e(){r&&document.activeElement!==r&&(r.focus(),n++<10&&window.setTimeout(e,2*n))}var n=0;r=t,e()}e._replaceInner=n,e._focusElementASAP=i;var r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(7),a=n(10),l=n(6),c=n(8),u=n(12),h=function(t){function e(){t.apply(this,arguments),this.header=null,this.footer=null}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).then(function(e,n){e.header=c._transformObservableInitializer(t,"header",l.Block,n),e.footer=c._transformObservableInitializer(t,"footer",l.Block,n)})},e.prototype.render=function(){t.prototype.render.call(this);var e,n;this.header&&(e=document.createElement("div"),e.className="panel-heading card-header",e.appendChild(this.header.out.element)),this.footer&&(n=document.createElement("div"),n.className="panel-footer card-footer",n.appendChild(this.footer.out.element));var i=this.out;u._replaceInner(i,[e,i.elements.wrapper,n])},e.prototype.getChildren=function(){var e=t.prototype.getChildren.call(this);return this.header instanceof s["default"]&&e.unshift(this.header),this.footer instanceof s["default"]&&e.push(this.footer),e},r([o["default"].observable],e.prototype,"header",void 0),r([o["default"].observable],e.prototype,"footer",void 0),e}(a["default"]);e.CardContainer=h,h.setGlobalCSS("CardContainer panel panel-default card",{display:"inline-block",margin:"0",padding:"0",height:"auto",width:"auto"},{" > .card-header":{padding:"0",overflow:"hidden"}," > .card-footer":{padding:"0",overflow:"hidden"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(11),a=n(15),l=n(10),c=n(16),u=n(6),h=n(17),d=function(t){function e(e,n){var i=this;void 0===n&&(n="27rem"),t.call(this,e),this.Closing=o["default"].defineSignal(),this.Closed=o["default"].defineSignal(),this._dragHandleSet=!1,this.width=n,this.style.set({height:"auto"}),this.raised=!0,this.raiseOnFocus=!1,this.raiseOnHover=!1,this.displayOptions=new o["default"].ObservableObject({modal:!0,shade:!0,horzAlign:l["default"].HorzAlign.Center,vertAlign:l["default"].VertAlign.Middle,onEsc:function(){o["default"].Promise.all(new i.Closing(null).emit().results).then(function(){return i.close()})},noAnimation:!1})}return i(e,t),e.prototype.render=function(){this.style.set({width:"auto"===this.width?"auto":"100%",maxWidth:this.width}),t.prototype.render.call(this),this.header instanceof u.Row&&!this.header.verticalSpacing&&(this.header.verticalSpacing=".5rem"),this._dragHandleSet||this.setDragHandle(this.header)},e.prototype.close=function(){return this.displayOptions.noAnimation?s["default"].remove(this):s["default"].fade(this,0,100),this.Closed(),this},e.prototype.setDragHandle=function(t){var e=this;this._dragHandleSet=!0,this._dragHandleConnection&&this._dragHandleConnection.disconnect(),t&&(this._dragHandleConnection=t.Press.connect(function(t){a["default"].start(t).moved.then(function(){a["default"].current&&a["default"].current.pickUp(e.out.element)})}))},r([o["default"].observable_string],e.prototype,"width",void 0),e}(c["default"]);e.DialogContainer=d;var d;!function(t){var e=function(t){function e(){t.call(this),this.label="",this.style.set({lineHeight:"0"}),this.style_button.set({fontSize:"1.5em",height:"auto",lineHeight:"1.1rem",fontFamily:"initial",top:"-.1em"}),this.tooltipTitle="Close"}return i(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.out.element.setAttribute("data-dismiss","modal")},e}(h.TextButton);t.TopCloseButton=e}(d=e.DialogContainer||(e.DialogContainer={})),d.setGlobalCSS("DialogContainer"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=d},function(t,e,n){"use strict";function i(t){function e(){try{return d.current&&p&&d.current.update(p.clientX,p.clientY)}finally{h["default"].yieldAll()}}var n=!p;p=t,n?e():f||(f=window.setTimeout(function(){var t=e();f=void 0,t&&i(p)},v))}function r(){d.current&&d.current.drop(),h["default"].yieldAll()}function o(t){if(d.current){var e=t.relatedTarget;e&&"HTML"!=e.nodeName||d.current.cancel()}}function s(t){d.current&&27==t.keyCode&&d.current.cancel()}function a(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",r),document.removeEventListener("mouseout",o),document.removeEventListener("keydown",s),document.onselectstart=y,f&&window.clearTimeout(f),f=void 0,p=void 0}function l(){document.addEventListener("mousemove",i),document.addEventListener("mouseup",r),document.addEventListener("mouseout",o),document.addEventListener("keydown",s),y=document.onselectstart,document.onselectstart=function(){return!1}}var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},h=n(3),d=function(t){function e(e,n,i,r){var o=this;t.call(this),this.detail=null,this.Drop=h["default"].defineSignal(),this.Cancel=h["default"].defineSignal(),this._x=n,this._y=i,r&&(this.detail=r),e.setCapture&&e.setCapture(),this._origTarget=e,this.moved=new h["default"].Promise(function(t){o._moved_resolve=t}),this.dropTarget=new h["default"].Promise(function(t,e){o._dropTarget_resolve=t,o._dropTarget_reject=e}),this.dropTarget.then(function(){return o.Drop()},function(){return o.Cancel()}),this._setCoords=function(t,e){o._x=t,o._y=e},this._getTarget=function(t,e){return document.elementFromPoint(t,e)};var s=new CustomEvent("uidragstart",{bubbles:!0,cancelable:!0,detail:null});e.dispatchEvent(s)?l():this.cancel()}return c(e,t),e.start=function(t,n){return e.current=new e(t.target,t.clientX,t.clientY,n)},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.constrain=function(t,e,n){var i=this,r=n||this._currentTarget||this._origTarget,o=r.getBoundingClientRect(),s=this._x-o.left+r.scrollLeft,a=this._y-o.top+r.scrollTop;this._setCoords=function(o,l){var c=r.getBoundingClientRect();t&&(o=s-r.scrollLeft+c.left),e&&(l=a-r.scrollTop+c.top),n&&(o<c.left&&(o=c.left),o>c.right&&(o=c.right),l<c.top&&(l=c.top),l>c.bottom&&(l=c.bottom)),i._x=o<0?0:o,i._y=l<0?0:l},this._setCoords(this._x,this._y)},e.prototype.pickUp=function(t,e){var n=this,i=t.getBoundingClientRect(),r=this._x-i.left,o=this._y-i.top;h["default"].observe(function(){if("fixed"==t.style.position)t.style.top=n._y-o+"px",t.style.left=n._x-r+"px";else if(t.offsetParent){var e=t.offsetParent.getBoundingClientRect();t.style.position="absolute",t.style.top=n._y-o-e.top+"px",t.style.left=n._x-r-e.left+"px"}t.style.bottom="",t.style.right=""}).watch(),this._getTarget=function(e,n){t.hidden=!0;var i=document.elementFromPoint(e,n);return t.hidden=!1,i},e&&(this.Drop.connect(function(){return t.parentNode&&t.parentNode.removeChild(t)}),this.Cancel.connect(function(){return t.parentNode&&t.parentNode.removeChild(t)}))},e.prototype.cancel=function(){if(this._origTarget.releaseCapture&&this._origTarget.releaseCapture(),this._dropTarget_reject(new Error("Drag canceled")),e.current===this){var t=new CustomEvent("uidragout",{bubbles:!0,cancelable:!0,detail:this.detail});this._currentTarget&&this._currentTarget.dispatchEvent(t),e.current=null,a()}},e.prototype.drop=function(){if(this._origTarget.releaseCapture&&this._origTarget.releaseCapture(),e.current===this&&this._currentTarget){var t=new CustomEvent("uidragdrop",{bubbles:!0,cancelable:!0,detail:this.detail}),n=!this._currentTarget.dispatchEvent(t);n&&this.cancel(),this._dropTarget_resolve(this._currentTarget);var i=new CustomEvent("uidragout",{bubbles:!0,cancelable:!0,detail:this.detail});this._currentTarget.dispatchEvent(i),e.current=null,a()}else this.cancel()},e.prototype.update=function(t,e){var n=this._x,i=this._y;this._setCoords(t,e);for(var r=this._getTarget(this._x,this._y),o=r,s=!1;o&&!s;){if(1==o.nodeType){var a=o.getBoundingClientRect();this._x<a.left+32&&o.scrollLeft>0&&(o.scrollLeft=Math.max(0,o.scrollLeft-8),s=!0),this._y<a.top+32&&o.scrollTop>0&&(o.scrollTop=Math.max(0,o.scrollTop-8),s=!0),this._x>a.right-32&&o.scrollLeft<o.scrollWidth-o.clientWidth&&(o.scrollLeft=o.scrollLeft+8,s=!0),this._y>a.bottom-32&&o.scrollTop<o.scrollHeight-o.clientHeight&&(o.scrollTop=o.scrollTop+8,s=!0)}o=o.parentNode}if(s&&(r=this._getTarget(this._x,this._y)),n!==this._x||i!==this._y){this._moved_resolve(!0);var l=this._currentTarget;if(this._currentTarget=r,this._currentTarget&&this._currentTarget!==l){var c=new CustomEvent("uidragout",{bubbles:!0,cancelable:!0,detail:this.detail});l&&l.dispatchEvent(c);var u=new CustomEvent("uidragover",{bubbles:!0,cancelable:!0,detail:this.detail});this._currentTarget.dispatchEvent(u)}}return s},e.current=null,u([h["default"].observable],e.prototype,"detail",void 0),u([h["default"].observable],e.prototype,"_x",void 0),u([h["default"].observable],e.prototype,"_y",void 0),e}(h["default"].ObservableObject);e.Drag=d;var f,p,v=20,y=null;!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent||(window.CustomEvent=t)}(),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=d},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(13),l=function(t){function e(e,n){var i=this;t.call(this,e),this.raiseOnHover=!0,this.raiseOnFocus=!0,this.raised=!1,this._observeRaised=o["default"].observe(function(){return i.raiseOnHover&&i.raiseOnFocus?i.raised=!(!i.hoverState&&!i.hasFocus):i.raiseOnHover?i.raised=!!i.hoverState:i.raiseOnFocus&&(i.raised=!!i.hasFocus),i.style.set(i.raised?s["default"].DROPCARD_UP:s["default"].DROPCARD),!0}),this.raised=!!n}return i(e,t),e.prototype.render=function(){this._observeRaised.value,t.prototype.render.call(this)},r([o["default"].observable],e.prototype,"raiseOnHover",void 0),r([o["default"].observable],e.prototype,"raiseOnFocus",void 0),r([o["default"].observable],e.prototype,"raised",void 0),e}(a["default"]);e.DropCardContainer=l,l.setGlobalCSS("DropCardContainer"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(18),a=n(19),l=n(2),c=n(6),u=n(21),h=n(22),d=n(12),f=function(t){function e(e,n){var i=this;void 0===e&&(e=""),t.call(this),this.secondary=!0,this.dropdown=null,this.popover=null,this.shrinkwrap=!0,this._observeState=o["default"].observe(function(){return i.primary?i.style_button.removeClass("btn-secondary").removeClass("btn-default").addClass("btn-primary"):i.secondary?i.style_button.removeClass("btn-primary").addClass("btn-secondary btn-default"):i.style_button.removeClass("btn-primary").removeClass("btn-secondary").removeClass("btn-default"),i.active?i.style_button.addClass("active"):i.style_button.removeClass("active"),!0}),this.style_button=new l["default"],this.DropdownClicked=o["default"].defineSignal(),
this.label=e,this.icon=n,this.style_button.addClass("btn"),this.Click.connect(function(t){i.disabled||i.Click(t)}),this.Click=o["default"].defineSignal(),this.Click.connect(function(){if(i.dropdown&&i.dropdown.length)c.Menu.displayDropdown(i._btnElement,i.dropdown).then(function(t){return i.DropdownClicked(t)});else if(i.popover instanceof Function){var t=new c.PopOver(new i.popover,i.popoverTitle);i.popoverAbove?t.displayAbove(i._btnElement):t.displayBelow(i._btnElement)}else if(i.activity||i.href){var e=i.activity&&(i.activity instanceof s["default"]?i.activity:i.activity.getInstance());a["default"].current?a["default"].current.startActivity(e||i.href):e?window.location.href=String(e instanceof s.ResourceActivity&&e.resourcePath||"#"):i.href&&(window.location.href=String(i.href))}})}return i(e,t),e.withLabel=function(t,e){return this["with"]({label:t,Click:e})},e.withIcon=function(t,e){return this["with"]({label:"",icon:t,Click:e})},e.prototype.render=function(){t.prototype.render.call(this);var e=this._btnElement;e||(e=this._btnElement=document.createElement("button"),e.type="button",this.out.element.id+=" "+Number(new Date),this.out.element.appendChild(e),this.out.elements={btn:e}),this.style_button.applyToAsync(e),e.disabled=this.disabled,h["default"].renderInto(e,this.icon,this.icon?this.remGutter:0,this.label,this.badge),this.iconAfter&&h["default"].renderInto(e,this.iconAfter,this.remGutter,"","",!0,!0),this.tooltipTitle&&(e.title=String(this.tooltipTitle)),this._observeState.value},e.prototype.focus=function(){this._btnElement&&d._focusElementASAP(this._btnElement)},e.prototype.blur=function(){this._btnElement&&this._btnElement.blur()},r([o["default"].observable_string],e.prototype,"label",void 0),r([o["default"].observable],e.prototype,"icon",void 0),r([o["default"].observable],e.prototype,"iconAfter",void 0),r([o["default"].observable],e.prototype,"remGutter",void 0),r([o["default"].observable_string],e.prototype,"badge",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable],e.prototype,"disabled",void 0),r([o["default"].observable],e.prototype,"active",void 0),r([o["default"].observable],e.prototype,"primary",void 0),r([o["default"].observable],e.prototype,"secondary",void 0),r([o["default"].observable],e.prototype,"dropdown",void 0),r([o["default"].observable],e.prototype,"popover",void 0),r([o["default"].observable],e.prototype,"popoverAbove",void 0),r([o["default"].observable_string],e.prototype,"popoverTitle",void 0),r([o["default"].observable],e.prototype,"href",void 0),r([o["default"].observable],e.prototype,"activity",void 0),r([o["default"].observable_nonNull],e.prototype,"style_button",void 0),e}(u["default"]);e.Button=f,f.setGlobalCSS("Button",void 0,{" button":{width:"100%",marginTop:"-.25rem",marginBottom:"-.25rem"}});var p=function(t){function e(){t.apply(this,arguments),this.primary=!0}return i(e,t),e}(f);e.PrimaryButton=p;var v=function(t){function e(e,n){var i=this;void 0===e&&(e=""),t.call(this,e,n),this.Click.connect(function(){i.active=!i.active})}return i(e,t),e}(f);e.ToggleButton=v;var y=function(t){function e(e,n){void 0===e&&(e=""),t.call(this,e,n),this.secondary=!1,this.style_button.addClass("btn-link")}return i(e,t),e}(f);e.LinkButton=y,y.setGlobalCSS("LinkButton");var b=function(t){function e(e,n){void 0===e&&(e=""),t.call(this,e,n),this.secondary=!1,this.style_button.set({border:"0",boxShadow:"none",outline:"0",background:"transparent",padding:"0",margin:"0",width:"auto",minWidth:"0",fontSize:"inherit",fontWeight:"inherit",fontFamily:"inherit",fontStyle:"inherit",height:"auto",lineHeight:"1em",verticalAlign:"baseline",color:"inherit"})}return i(e,t),e}(f);e.TextButton=b,b.setGlobalCSS("TextButton");var _=function(t){function e(e,n){void 0===e&&(e=""),t.call(this,e,n),this.style_button.set({padding:"0",border:"0",outline:"0",borderRadius:"50%",boxShadow:"none",overflow:"hidden",minWidth:"2.1em",maxWidth:"2.1em",height:"2.1em"})}return i(e,t),e}(f);e.RoundButton=_,_.setGlobalCSS("RoundButton"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=f},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=function(t){function e(){t.apply(this,arguments),this.parentActivity=null,this.Activating=o["default"].defineSignal(),this.Activated=o["default"].defineSignal(),this.Suspending=o["default"].defineSignal(),this.Suspended=o["default"].defineSignal(),this.Resuming=o["default"].defineSignal(),this.Resumed=o["default"].defineSignal(),this.Deactivated=o["default"].defineSignal()}return i(e,t),e.getInstance=function(){return new this},r([o["default"].observable_string],e.prototype,"title",void 0),r([o["default"].observable_seal],e.prototype,"state",void 0),e}(o["default"].ObservableObject);e.Activity=s;var a=function(t){function e(e){t.call(this),this.resourcePath=e}return i(e,t),e}(s);e.ResourceActivity=a;var l;!function(t){!function(t){t[t.Push=0]="Push",t[t.Replace=1]="Replace",t[t.Pop=2]="Pop"}(t.Operation||(t.Operation={}));t.Operation}(l=e.ActivityTransition||(e.ActivityTransition={}));var c="_A"+String(Math.random()).slice(-5),u=0,h=null,d=function(){function t(){this.Transition=o["default"].defineSignal(),this._topIndex=-1,this._stack=[],this._ids=[]}return t.prototype.push=function(t){var e=this;if(!(t instanceof s))throw new Error("Invalid activity");return this._transitionP=(this._transitionP||o["default"].Promise.resolve(null)).then(function(n){h=null;var i;return e._findParents(t).forEach(function(t){var n=function(){return e._processTransition(t,l.Operation.Push)};i=i?i.then(n):n()}),i||n})},t.prototype.replace=function(t){var e=this;if(!(t instanceof s))throw new Error("Invalid activity");return this._transitionP=(this._transitionP||o["default"].Promise.resolve(null)).then(function(n){h=null;var i=e._topIndex<0;if(i||e._stack[e._topIndex-1]!==t){var r;return e._findParents(t,!0).forEach(function(t){var n=function(){return e._processTransition(t,r||i?l.Operation.Push:l.Operation.Replace)};r=r?r.then(n):n()}),r||n}return e._processTransition(t,l.Operation.Pop)})},t.prototype.pop=function(){var t=this;return this._transitionP=(this._transitionP||o["default"].Promise.resolve(null)).then(function(){if(h=null,t._topIndex<0)throw new Error("No activity to suspend");return t._processTransition(t._stack[t._topIndex-1],l.Operation.Pop)})},t.prototype.up=function(t){var e=this,n=function(){return e.top instanceof t?o["default"].Promise.resolve(e.top):e._stack.some(function(e){return e instanceof t})?e._processTransition(e._stack[e._topIndex-1],l.Operation.Pop).then(function(){return n()}):o["default"].Promise.resolve(null)};return this._transitionP=(this._transitionP||o["default"].Promise.resolve(null)).then(function(){return h=null,n()})},t.prototype.restoreHistoryState=function(t){var e=this,n=this._ids.lastIndexOf(t);if(n<0&&"0"!==t)throw new Error("Cannot resume activities");return n===this._topIndex?o["default"].Promise.resolve(null):(n<this._topIndex?this.pop():this.push(this._stack[this._topIndex+1])).then(function(){return e.restoreHistoryState(t)})},t.prototype.getHistoryState=function(){return this._ids[this._topIndex]||"0"},t.prototype.getParent=function(t,e){for(var n=this._stack[this._topIndex]===e,i=this._topIndex-1;i>=0;i--){if((n||!e)&&this._stack[i]instanceof t)return this._stack[i];this._stack[i]===e&&(n=!0)}return null},t.prototype.contains=function(t){for(var e=this._topIndex;e>=0;e--)if(this._stack[e]===t)return!0;return!1},Object.defineProperty(t.prototype,"top",{get:function(){return this._topIndex<0?null:this._stack[this._topIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._topIndex+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){for(var t=this._topIndex;t>=0;t--)if(void 0!==this._stack[t].title)return this._stack[t].title;return""},enumerable:!0,configurable:!0}),t.prototype._findParents=function(t,e){for(var n=[t];n[0].parentActivity;){var i=n[0].parentActivity;if(i instanceof s){if(this.contains(i)&&(!e||this.top!==i))break;n.unshift(i)}else{if(!e&&this.top instanceof i||this.getParent(i))break;n.unshift(i.getInstance())}}return n},t.prototype._processTransition=function(t,e){var n=this,i=Object.freeze({activityManager:this,operation:e,from:this.top,to:t,previous:h});if(h=i,this.top===t)return e===l.Operation.Pop&&this._topIndex--,o["default"].Promise.resolve(i);var r=this.top,s=r?new r.Suspending(i).emit().results:[],a=!!t&&this.contains(t);return o["default"].Promise.all(s).then(function(){return o["default"].Promise.all(a?new i.to.Resuming(i).emit().results:i.to?new i.to.Activating(i).emit().results:[])}).then(function(){switch(n.Transition(i),i.operation){case l.Operation.Pop:n._topIndex--;break;case l.Operation.Replace:n._topIndex--;case l.Operation.Push:if(n._stack.length>n._topIndex+1&&n._stack[n._topIndex+1]===i.to)n._topIndex++;else{for(;n._stack.length>n._topIndex+1;){var t=n._stack.pop();n.contains(t)||t.Deactivated(i)}n._topIndex=n._stack.push(i.to)-1,n._ids.length=n._stack.length,n._ids[n._topIndex]=c+u++}}return i.to&&(a?i.to.Resumed(i):i.to.Activated(i)),r&&r.Suspended(i),i})},r([o["default"].observable],t.prototype,"_topIndex",void 0),r([o["default"].observable],t.prototype,"_stack",void 0),t}();e.ActivityManager=d,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(18),a=n(20),l=n(11),c=new a.ActivityResourceMap,u=function(t){function e(n){var i=this;if(t.call(this),this.title="",this.PageNotFound=o["default"].defineSignal(),this.NoActivity=o["default"].defineSignal(),this.activities=new s.ActivityManager,e.current||!e._resolve_ready)throw new Error("Cannot construct more than one Application instance");e.current=this.constructor.current=this,this.title=n,l["default"].ready.then(function(){e._resolve_ready(i),e._resolve_ready=null,i._listen(),o["default"].defer(function(){i.activities.length||i._startLocationActivity()}),o["default"].observe(function(){var t=[i.activities.title,i.title].filter(function(t){return!!t}).join(" - ");t&&(document.title=t)}).watch()})}return i(e,t),e.mapActivity=function(t,e){return c.register(t,function(){return e instanceof s["default"]?e:e?e.getInstance():t})},e.mapResource=function(t,e){return c.register(t,e)},e.prototype.mapActivity=function(t,n){return e.mapActivity(t,n),this},e.prototype.mapResource=function(t,n){return e.mapResource(t,n),this},e.prototype.startActivity=function(t,e,n){var i=this;if(t instanceof Function&&t.getInstance&&(t=t.getInstance()),t instanceof s["default"])return(e?this.activities.replace(t):this.activities.push(t)).then(function(t){return[t]});var r=this.activities.top,l=new a.ActivityResourcePath(r instanceof s.ResourceActivity?r:"",String(t)).toString();return"#"===l?l="#/":l||(l="/"),c.obtain(l).then(function(t){return t.length?o["default"].Promise.all(t.map(function(t){return e?i.activities.replace(t):i.activities.push(t)})):(n?window.location.href=l:i.PageNotFound(l),[])})},e.prototype.dropActivity=function(t){var e=this;return t?this.activities.up(t).then(function(t){return o["default"].sleep(2,t)}):this.activities.length?this.activities.pop().then(function(t){return o["default"].sleep(4).then(function(){return t.to||e.activities.length||e.NoActivity(),t.to})}):(this.NoActivity(),o["default"].Promise.resolve(null))},e.prototype._listen=function(){function t(t){n=!0;try{return t().then(function(){n=!1},function(){n=!1})}catch(e){throw n=!1,e}}var e=this,n=!1;window.addEventListener("hashchange",function(){var n=String(window.location.hash||"#");if(!window.history.state||!window.history.state.activityID){if("#__"===n.slice(0,3))return void t(function(){return e.activities.restoreHistoryState(n.slice(3))});"/"!==n.charAt(1)&&(n="#/"+n.slice(1)),t(function(){return e.startActivity(n)})}});var i=null;window.addEventListener("popstate",function(n){var r=i=n.state&&n.state.activityID;r&&o["default"].defer(function(){if(r===i&&r!==e.activities.getHistoryState())try{t(function(){return e.activities.restoreHistoryState(r)}).then(void 0,function(){e._updateHistoryState(s.ActivityTransition.Operation.Push)})}catch(n){e._startLocationActivity(!0)}})}),this.activities.Transition.connect(function(t){if(n)window.history.state&&!window.history.state.activityID&&e._updateHistoryState(s.ActivityTransition.Operation.Replace);else{var i=t.operation;i!==s.ActivityTransition.Operation.Push||t.from||(i=s.ActivityTransition.Operation.Replace),e._updateHistoryState(i)}})},e.prototype._startLocationActivity=function(t){window.location.hash&&"#"!==window.location.hash?this.startActivity(decodeURIComponent(window.location.hash),t).then(void 0,function(){window.location.hash=""}):this.startActivity(decodeURIComponent(window.location.href),t)},e.prototype._updateHistoryState=function(t){var e=this.activities.top;switch(t){case s.ActivityTransition.Operation.Push:e instanceof s.ResourceActivity&&e.resourcePath?window.history.pushState?window.history.pushState({activityID:this.activities.getHistoryState(),path:e.resourcePath},this.activities.title,String(e.resourcePath)):window.location.hash="#__"+this.activities.getHistoryState():window.history.pushState?window.history.pushState({activityID:this.activities.getHistoryState()},this.activities.title):window.location.hash="#__"+this.activities.getHistoryState();break;case s.ActivityTransition.Operation.Replace:e instanceof s.ResourceActivity&&e.resourcePath?window.history.replaceState&&window.history.replaceState({activityID:this.activities.getHistoryState(),path:e.resourcePath},this.activities.title,String(e.resourcePath)):window.history.replaceState&&window.history.replaceState({activityID:this.activities.getHistoryState()},this.activities.title);break;case s.ActivityTransition.Operation.Pop:window.history.pushState&&window.history.back()}},e.ready=new o["default"].Promise(function(t){e._resolve_ready=t}),r([o["default"].observable_string],e.prototype,"title",void 0),e}(o["default"].ObservableObject);e.Application=u,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=n(3),r=n(18),o=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this._parts=[],this._parts=t}return t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var i=new t;return i._parts=e,i},t.prototype.toString=function(){var t="#/",e=!0,n=0,i=this._parts.map(function(i,o){i instanceof r.ResourceActivity&&(i=i.resourcePath);var s=String(i),a=s.match(/^(#|\.\.?)?\/|^#/);if(a){var l=a[0];"/"!==l&&"#/"!==l||(e=!0,n=o),e&&(t=l),s&&(e=!1),s=s.slice(l.length)}return s}).slice(n).filter(function(t){return!!t.length}).join("/");return t+i.replace(/\/+$/,"")},t.prototype.match=function(t){var e=String(this),n=!1;if("#"===e.charAt(0)?(t="#"+t.split("#").slice(1).join("#"),"#"===t&&(t="#/"),n=!0):"/"===e.charAt(0)&&"/"!==t.charAt(0)&&(t="/"+t.replace(/^\w*\:\/\//,"").replace(/#.*/,"").split("/").slice(1).join("/")),t.slice(0,e.length)===e&&(t.length===e.length||"/"===e.slice(-1)||"/"===t.charAt(e.length)))return{remainder:t.slice(e.length).replace(/^\/+/,""),isHash:n}},t}();e.ActivityResourcePath=o;var s=function(){function t(){this._Signal=i["default"].defineSignal()}return t.prototype.register=function(t,e){var n=t;return t instanceof o||(n=o.prototype.concat.apply(new o,t instanceof Array?t:[t])),this._Signal.connect(this._getMatcher(n,e))},t.prototype.obtain=function(t){var e=String(t);return i["default"].Promise.all(new this._Signal(e).emit().results).then(function(t){var n=[];return t.forEach(function i(t){t instanceof Array?t.forEach(i):t instanceof r["default"]&&n.push(t)}),n.forEach(function(t){t instanceof r.ResourceActivity&&void 0===t.resourcePath&&(t.resourcePath=e)}),n})},t.prototype._getMatcher=function(t,e){return function(n){var i=t.match(n);if(i){if(e.length){for(var r=[],o=i.remainder.split("/"),s=0;s<e.length-1;s++)r.push(o.shift());return r.push(o.join("/")),e.apply(void 0,r)}if(!i.remainder)return e()}}},t}();e.ActivityResourceMap=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(7),a=n(4),l=function(t){function e(){var n=this;t.call(this),this.elementID="C_"+e._lastEltID++,this.width="auto",this.shrinkwrap=!1,this.wrapText=!1,this.hidden=!1,this.tagName="element",this._observeHidden=o["default"].observe(function(){return n.hidden?n.style.hide():n.style.show(),!0}),this._observeWidth=o["default"].observe(function(){var t=n.width&&"%"===String(n.width).slice(-1),e="auto"===n.width?"":n.width;return n.shrinkwrap?n.style.addClass("shrinkwrap").set({width:t?n.width:"",minWidth:e,maxWidth:e}):n.style.removeClass("shrinkwrap").set({width:t?n.width:"",minWidth:e}),!0}),this._observeWrapText=o["default"].observe(function(){return n.style.set({whiteSpace:n.wrapText?"pre-wrap":""}),!0}),this.Focus.connect(function(){n.hasFocus=n._domFocus=!0,e.ControlFocused(n)}),this.Blur.connect(function(){n.hasFocus=n._domFocus=!1})}return i(e,t),Object.defineProperty(e.prototype,"hasFocus",{get:function(){return!!this.hasFocus},set:function(t){var n=this;if(t!==(this._domFocus||!1))if(t){var i=function(){n.focus(),e.ControlFocused.connectOnce(function(t){t!==n&&(n.hasFocus=n._domFocus)})};this._canFocus?i():this.Rendered.connectOnce(i)}else this._canFocus&&this.blur()},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.out||(this.out=new a.ComponentRenderHtmlOutput(this,document.createElement(this.tagName)),this.out.element.id=this.elementID,this._canFocus=!0),this._observeHidden.value,this._observeWidth.value,this._observeWrapText.value},e.prototype.focus=function(){},e.prototype.blur=function(){},e.ControlFocused=o["default"].defineSignal(),e._lastEltID=0,r([o["default"].observable_string],e.prototype,"width",void 0),r([o["default"].observable],e.prototype,"shrinkwrap",void 0),r([o["default"].observable],e.prototype,"wrapText",void 0),r([o["default"].observable],e.prototype,"hidden",void 0),r([o["default"].observable],e.prototype,"hasFocus",null),e}(s["default"]);e.ControlElement=l,l.setGlobalCSS("ControlElement",{position:"relative",display:"table-cell",verticalAlign:"middle",boxSizing:"border-box",borderSpacing:"initial",margin:"0",padding:"0",lineHeight:"normal",width:"auto",minWidth:"auto",whiteSpace:"pre"},{".shrinkwrap":{width:"1px",maxWidth:"auto"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(21),a=n(12),l=function(t){function e(e,n,i,r){void 0===e&&(e=""),t.call(this),this.shrinkwrap=!0,this.text=e,this.icon=n,this.badge=r,void 0!==i&&(this.remGutter=i),this.tagName="p"}return i(e,t),e.withText=function(t,e){return this["with"]({text:t,style:e})},e.prototype.render=function(){t.prototype.render.call(this);var n=this.out.element;e.renderInto(n,this.icon,this.remGutter,this.text,this.badge),this.tooltipTitle&&(n.title=this.tooltipTitle),this.focusable?n.tabIndex=0:n.removeAttribute("tabIndex")},e.renderInto=function(t,e,n,i,r,o,s){if(!o)for(;t.firstChild;)t.removeChild(t.firstChild);if(e||n>0){var a=document.createElement("icon");if(n>=0&&(a.style.width="1.3em",a.style.maxWidth="1.3em",a.style.overflow="visible",a.style.boxSizing="content-box",s?(a.style.paddingLeft=n+"rem",a.style.marginLeft="-1.3em"):(a.style.paddingRight=n+"rem",a.style.marginRight="-1.3em")),e){e=e.replace(/\s+([\w-]+)\s*=\s*(\"[^\"]*\"|[^\s]+)/g,function(t,e,n){return e=e.replace(/-\w/g,function(t){return t.charAt(1).toUpperCase()}),a.style[e]='"'===n.charAt(0)?JSON.parse(n):n,""});var l=e.split("-",1)[0];l!==e&&(e=l+" "+e),a.className=e}t.appendChild(a)}var c=void 0!==i&&String(i);if(c){!e||n>0||(c=" "+c);var u=document.createElement("span");u.textContent=c,t.appendChild(u)}var h=void 0!==r&&String(r);if(h){var d=document.createElement("badge");d.className="badge",d.textContent=h,t.appendChild(d)}return t},e.prototype.focus=function(){var t=this;o["default"].defer(function(){return a._focusElementASAP(t.out.element)})},e.prototype.blur=function(){var t=this;o["default"].defer(function(){return t.out.element.blur()})},r([o["default"].observable_string],e.prototype,"text",void 0),r([o["default"].observable],e.prototype,"icon",void 0),r([o["default"].observable],e.prototype,"remGutter",void 0),r([o["default"].observable_string],e.prototype,"badge",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable],e.prototype,"focusable",void 0),e}(s["default"]);e.Label=l,l.setGlobalCSS("Label",{cursor:"inherit",overflow:"hidden"},{" icon":{display:"inline-block",fontWeight:"normal",fontStyle:"normal"}," badge":{display:"inline-block",fontWeight:"normal",fontStyle:"normal",marginLeft:"1em",verticalAlign:"baseline"}});var c=function(t){function e(e,n,i,r){void 0===e&&(e=""),t.call(this,e,n,i,r),this.shrinkwrap=!1,this.style.override({maxWidth:"1px",textOverflow:"ellipsis"})}return i(e,t),e}(l);e.WideLabel=c,c.setGlobalCSS("WideLabel");var u=function(t){function e(){t.apply(this,arguments),this.shrinkwrap=!1,this.wrapText=!0}return i(e,t),e.LINE_HEIGHT="1.65em",e}(l);e.Paragraph=u,u.setGlobalCSS("Paragraph",{lineHeight:u.LINE_HEIGHT});var h=function(t){function e(e,n,i,r){void 0===e&&(e=""),t.call(this,e,n,i,r),this.tagName="h1",this.style.override({fontSize:""})}return i(e,t),e}(l);e.Heading1=h,h.setGlobalCSS("Heading");var d=function(t){function e(){t.apply(this,arguments),this.tagName="h2"}return i(e,t),e}(h);e.Heading2=d;var f=function(t){function e(){t.apply(this,arguments),this.tagName="h3"}return i(e,t),e}(h);e.Heading3=f;var p=function(t){function e(){t.apply(this,arguments),this.tagName="h4"}return i(e,t),e}(h);e.Heading4=p;var v=function(t){function e(){t.apply(this,arguments),this.tagName="h5"}return i(e,t),e}(h);e.Heading5=v;var y=function(t){function e(){t.apply(this,arguments),this.tagName="h6"}return i(e,t),e}(h);e.Heading6=y,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(11),l=n(10),c=function(t){function e(e,n,i,r){void 0===r&&(r=!1),t.call(this,e),this.width="20rem",this.maxOuterWidth="90%",void 0!==n&&(this.width=n),void 0!==i&&(this.maxOuterWidth=i),this.openFromRight=r,this.displayOptions={modal:!0,shade:!0,horzAlign:l["default"].HorzAlign.Left,vertAlign:l["default"].VertAlign.Middle,onEsc:void 0,noAnimation:!1}}return i(e,t),e.prototype.close=function(){return a["default"].remove(this),this},e.prototype.display=function(){return this.displayOptions.horzAlign=this.openFromRight?l["default"].HorzAlign.Right:l["default"].HorzAlign.Left,t.prototype.display.call(this)},e.prototype.render=function(){this.style.set({maxWidth:this.width,width:this.maxOuterWidth,margin:this.openFromRight?"0 0 0 auto":"0 auto 0 0"}),t.prototype.render.call(this),this.displayOptions.horzAlign=this.openFromRight?l["default"].HorzAlign.Right:l["default"].HorzAlign.Left},r([o["default"].observable_string],e.prototype,"width",void 0),r([o["default"].observable_string],e.prototype,"maxOuterWidth",void 0),r([o["default"].observable],e.prototype,"openFromRight",void 0),e}(l["default"]);e.DrawerContainer=c,c.setGlobalCSS("DrawerContainer panel panel-default card",[{display:"table",borderSpacing:"0",borderRadius:"0",margin:"0"},s["default"].DROPCARD_UP_SHADOW],{" > containerwrapper":{maxWidth:"auto !important"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(7),a=n(10),l=n(6),c=n(8),u=n(12),h=function(t){function e(){t.apply(this,arguments),this.header=null,this.headerHeight=e.HEADER_HEIGHT,this.footer=null,this.footerHeight=e.FOOTER_HEIGHT,this.leftGutter=null,this.leftGutterWidth=e.LEFT_GUTTER_WIDTH,this.rightGutter=null,this.rightGutterWidth=e.RIGHT_GUTTER_WIDTH,this.scrollable=!0}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).then(function(e,n){e.header=c._transformObservableInitializer(t,"header",a["default"],n),e.footer=c._transformObservableInitializer(t,"footer",a["default"],n),e.leftGutter=c._transformObservableInitializer(t,"leftGutter",a["default"],n),e.rightGutter=c._transformObservableInitializer(t,"rightGutter",a["default"],n)})},e.prototype.setHeaderRow=function(t,e){e instanceof l.Row||(e=(new l.Row).initializeWith(e instanceof Array?{content:e}:e)),e.height=t,this.headerHeight=t,this.header=new a["default"]([e])},e.prototype.setFooterRow=function(t,e){e instanceof l.Row||(e=(new l.Row).initializeWith(e)),e.height=t,this.footerHeight=t,this.footer=new a["default"]([e])},e.prototype.render=function(){var e=!this.out;t.prototype.render.call(this),e&&(this._centerWrapper=document.createElement("layoutcenter"),this._headerWrapper=document.createElement("header"),this._footerWrapper=document.createElement("footer"),this._leftWrapper=document.createElement("layoutleft"),this._rightWrapper=document.createElement("layoutright"));var n=[],i=this.out,r="0",o="0",s="0",a="0";n.push(u._replaceInner(this._centerWrapper,[i.elements.wrapper])),this.leftGutter&&(this._leftWrapper.style.width=s=this.leftGutterWidth,"0"!==s&&n.push(u._replaceInner(this._leftWrapper,[this.leftGutter.out]))),this.rightGutter&&(this._rightWrapper.style.width=a=this.rightGutterWidth,"0"!==a&&n.push(u._replaceInner(this._rightWrapper,[this.rightGutter.out]))),this.header&&(this._headerWrapper.style.height=r=this.headerHeight,"0"!==r&&n.push(u._replaceInner(this._headerWrapper,[this.header.out]))),this.footer&&(this._footerWrapper.style.height=o=this.footerHeight,"0"!==o&&n.push(u._replaceInner(this._footerWrapper,[this.footer.out]))),this._centerWrapper.style.top=r,this._centerWrapper.style.bottom=o,this._centerWrapper.style.left=s,this._centerWrapper.style.right=a,this._leftWrapper.style.top=r,this._leftWrapper.style.bottom=o,this._rightWrapper.style.top=r,this._rightWrapper.style.bottom=o,this._centerWrapper.style.overflow=this.scrollable?"auto":"hidden",u._replaceInner(i,n)},e.prototype.getChildren=function(){var e=t.prototype.getChildren.call(this);return this.leftGutter instanceof s["default"]&&e.unshift(this.leftGutter),this.rightGutter instanceof s["default"]&&e.push(this.rightGutter),this.header instanceof s["default"]&&e.unshift(this.header),this.footer instanceof s["default"]&&e.push(this.footer),e},e.LEFT_GUTTER_WIDTH="18rem",e.RIGHT_GUTTER_WIDTH="22rem",e.HEADER_HEIGHT="4rem",e.FOOTER_HEIGHT="2rem",r([o["default"].observable],e.prototype,"header",void 0),r([o["default"].observable_string],e.prototype,"headerHeight",void 0),r([o["default"].observable],e.prototype,"footer",void 0),r([o["default"].observable_string],e.prototype,"footerHeight",void 0),r([o["default"].observable],e.prototype,"leftGutter",void 0),r([o["default"].observable_string],e.prototype,"leftGutterWidth",void 0),r([o["default"].observable],e.prototype,"rightGutter",void 0),r([o["default"].observable_string],e.prototype,"rightGutterWidth",void 0),r([o["default"].observable],e.prototype,"scrollable",void 0),e}(a["default"]);e.LayoutContainer=h,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h,h.setGlobalCSS("LayoutContainer",{overflow:"hidden",display:"block"},{" > layoutcenter":{position:"absolute"}," > header":{position:"absolute",top:"0",left:"0",right:"0"}," > footer":{position:"absolute",bottom:"0",left:"0",right:"0"}," > layoutleft":{position:"absolute",left:"0"}," > layoutright":{position:"absolute",right:"0"}})},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(7),a=n(4),l=n(12),c=function(t){function e(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i-0]=arguments[i];t.call(this),this.height="auto",this.hidden=!1,this.selected=!1,this.tagName="block",this._observeHidden=o["default"].observe(function(){return e.hidden?e.style.hide():e.style.show(),!0}),this._hasFocus=o["default"].ObservableValue.fromValue(!1),this._hoverState=o["default"].ObservableValue.fromValue(!1);var r=this._inner=n.length?n:void 0;if(r&&r[0]&&11===r[0].nodeType){var s=r[0].firstChild;for(r.length=0;s;)r.push(s),s=s.nextSibling}this.MouseOver.connect(function(){e._hoverState.value=!0}),this.MouseOut.connect(function(){e._hoverState.value=!1}),this.Blur.connect(function(){e._hasFocus.value=!1}),this.Focus.connect(function(){e._hasFocus.value=!0})}return i(e,t),Object.defineProperty(e.prototype,"hoverState",{
get:function(){return this._hoverState.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasFocus",{get:function(){return this._hasFocus.value},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.out||(this.out=new a.ComponentRenderHtmlOutput(this,document.createElement(this.tagName))),"auto"===this.height||this.style.get("height")||this.style.set({height:this.height}),this._observeHidden.value,this._inner&&l._replaceInner(this.out,this._inner.map(function(t){return t instanceof o["default"].ObservableValue&&(t=t.value),t instanceof s["default"]?t.out:t}))},e.prototype.getChildren=function(){return(this._inner||[]).map(function(t){return t instanceof o["default"].ObservableValue?t.value:t}).filter(function(t){return t instanceof s["default"]})},r([o["default"].observable_string],e.prototype,"height",void 0),r([o["default"].observable],e.prototype,"hidden",void 0),r([o["default"].observable],e.prototype,"selected",void 0),e}(s["default"]);e.Block=c,c.setGlobalCSS("Block",{display:"block",position:"relative",boxSizing:"border-box",textAlign:"left",outline:"0"},{" containerwrapper":{display:"table",borderSpacing:"0",height:"100%",margin:"0 auto"}," containerwrapper > div":{display:"table-cell"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(25),a=n(6),l=n(8),c=n(12),u=function(t){function e(e){t.call(this),this.height="auto",this.container=e||new a.Container}return i(e,t),e["with"]=function(t){return s["default"]["with"].call(this,t).then(function(e,n){e.container=l._transformObservableInitializer(t,"container",a.Container,n)})},e.prototype.render=function(){t.prototype.render.call(this);var e=!this.height||"auto"===this.height;this.container instanceof a.LayoutContainer&&e?this.style.set({height:"100%"}):this.style.set({height:e?"":this.height}),c._replaceInner(this.out,[this.container&&this.container.out])},e.prototype.getChildren=function(){return this.container?[this.container]:[]},r([o["default"].observable],e.prototype,"container",void 0),r([o["default"].observable_string],e.prototype,"height",void 0),e}(s["default"]);e.ContainerBlock=u,u.setGlobalCSS("ContainerBlock"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(25),a=function(t){function e(n,i,r,o,s){t.call(this),this.color=n||e.DEFAULT_COLOR,this.thickness=i||e.DEFAULT_THICKNESS,this.margin=r||e.DEFAULT_MARGIN,o&&(this.insetLeft=o),s&&(this.insetRight=s),this.tagName="hr"}return i(e,t),e.prototype.render=function(){this.style.set({borderWidth:"0 0 "+this.thickness,borderColor:this.color,marginTop:this.margin,marginBottom:this.margin,marginLeft:this.insetLeft,marginRight:this.insetRight}),t.prototype.render.call(this)},e.DEFAULT_COLOR="rgba(0,0,0,.125)",e.DEFAULT_THICKNESS="1px",e.DEFAULT_MARGIN=".5rem",r([o["default"].observable],e.prototype,"color",void 0),r([o["default"].observable],e.prototype,"thickness",void 0),r([o["default"].observable],e.prototype,"margin",void 0),r([o["default"].observable_string],e.prototype,"insetLeft",void 0),r([o["default"].observable_string],e.prototype,"insetRight",void 0),e}(s["default"]);e.Divider=a,a.setGlobalCSS("Divider",{boxSizing:"content-box",height:"0",padding:"0",margin:"0",borderStyle:"solid",border:"0"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(25),a=n(27),l=n(7),c=n(8),u=n(12),h=function(t){function e(e){var n=this;t.call(this),this.items=[],this.dividerThickness="1px",this.dividerMargin="0",this.allowSelection=!1,this.selectedItem=null,this.selectedIndex=-1,this.SelectionChange=o["default"].defineSignal(),e&&(this.items=e),this.KeyDown.connect(function(t){function e(t,e,n){var i=t.childNodes[n?2*e:e];if(i)for(var r=i.offsetTop,o=i.offsetHeight;i.offsetParent;){var s=i.offsetParent;s.scrollTop+s.offsetHeight<r+o&&(s.scrollTop=r+o-s.offsetHeight),s.scrollTop>r&&(s.scrollTop=r),r+=s.offsetTop-s.scrollTop,i=s}}n.allowSelection&&t.target===t.currentTarget&&(38==t.keyCode&&n.selectedIndex>0&&(e(t.target,--n.selectedIndex,!!n.dividerColor),t.preventDefault()),40==t.keyCode&&n.selectedIndex<n.items.length-1&&(e(t.target,++n.selectedIndex,!!n.dividerColor),t.preventDefault()))}),this.PropertyChange.connect(function(t){var e=n.selectedIndex;switch(t){case"selectedIndex":for(var i=n.items.length-1;i>=0;i--)n.items[i]instanceof s["default"]&&(n.items[i].selected=i===e);e>=0?n.selectedItem=n.items[e]||null:n.selectedItem=null,n.SelectionChange(n.selectedItem);break;case"selectedItem":if(n.selectedItem){if(e<0||e>n.items.length||n.items[e]!==n.selectedItem){for(var r=n.selectedItem,i=n.items.length-1;i>=0;i--)if(n.items[i]===r)return void(n.selectedIndex=i);n.selectedItem=null,n.selectedIndex=-1}}else n.selectedItem=null,n.selectedIndex=-1}}),o["default"].observe(function(){n.selectedIndex>n.items.length&&(n.selectedIndex=-1)}).watch()}return i(e,t),e["with"]=function(t){return s["default"]["with"].call(this,t).then(function(e,n){e.items=c._transformFactoryArray(t.items,s["default"],n),void 0!==t.selectedIndex&&(e.selectedIndex=t.selectedIndex)})},e.withItems=function(t){return this["with"]({items:t})},e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.allowSelection?this.out.element.tabIndex=0:this.out.element.removeAttribute("tabIndex");var n=[];this.items.forEach(function(t,i){(e.dividerColor||e.dividerThickness)&&n.push(i?t&&new a["default"](e.dividerColor,e.dividerThickness,e.dividerMargin,e.dividerInsetLeft,e.dividerInsetRight).out:null),n.push(t&&t.out)});var i=this.allowSelection?this.items.map(function(t,n){return t&&t.Press.connect(function(){e.selectedIndex=n})}):null;this._clickConnections&&this._clickConnections.forEach(function(t){return t&&t.disconnect()}),this._clickConnections=i,this.allowSelection&&o["default"].unobserved(function(){var t=e.selectedIndex;e.selectedItem!==(e.items[t]||null)&&(e.selectedIndex=-1,e.selectedIndex=t)}),u._replaceInner(this.out,n)},e.prototype.getChildren=function(){return this.items.filter(function(t){return t instanceof l["default"]})},e.prototype.getFormValues=function(e){return void 0===e&&(e={}),this.name?e[this.name]=this.items.mapAsync(function(t){return o["default"].observe(function(){return t.getFormValues()})}):t.prototype.getFormValues.call(this,e),e},e.prototype.setFormValues=function(e){var n=this;o["default"].unobserved(function(){n.name?e&&e[n.name]&&n.items.forEach(function(t,i){t&&t.setFormValues(e[n.name][i])}):t.prototype.setFormValues.call(n,e)})},r([o["default"].observable_nonNull],e.prototype,"items",void 0),r([o["default"].observable],e.prototype,"dividerColor",void 0),r([o["default"].observable],e.prototype,"dividerThickness",void 0),r([o["default"].observable],e.prototype,"dividerMargin",void 0),r([o["default"].observable_string],e.prototype,"dividerInsetLeft",void 0),r([o["default"].observable_string],e.prototype,"dividerInsetRight",void 0),r([o["default"].observable],e.prototype,"allowSelection",void 0),r([o["default"].observable],e.prototype,"selectedItem",void 0),r([o["default"].observable],e.prototype,"selectedIndex",void 0),r([o["default"].observable],e.prototype,"name",void 0),e}(s["default"]);e.List=h,h.setGlobalCSS("List"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(18),a=n(20),l=n(19),c=n(6),u=n(25),h=n(26),d=n(7),f=n(12),p=function(t){function e(n,i,r){var s=this;if(void 0===i&&(i=-1),t.call(this),this.navItems=[],this.type=e.Type.Tabs,this.NavChange=o["default"].defineSignal(),this._li=[],this._containerBlock=new h["default"],n&&(this.navItems=n),this.selectedIndex=i,this.selectedKey=r,void 0!==r)this.selectedKey=r;else{var a=this.navItems[i];this.selectedKey=a?a.key:void 0}this.PropertyChange.connect(function(t){switch(t){case"selectedIndex":var e=s.selectedIndex>=0?s.navItems[s.selectedIndex]:null;s.selectedKey=e?e.key:void 0,s.NavChange(s.selectedIndex);break;case"selectedKey":var n=s.selectedKey,i=s.navItems[s.selectedIndex];if(!i||i.key!=n){for(var r=0;r<s.navItems.length;r++)if(s.navItems[r].key==n)return void(s.selectedIndex=r);s.selectedIndex=-1}}})}return i(e,t),e.withItems=function(t){return this["with"]({navItems:t})},e.prototype.activate=function(t){var e=this,n="string"==typeof t?this.navItems.reduce(function(e,n,i){return n.key==t?i:e},-1):t,i=this.navItems[this.selectedIndex=n];if(i&&(i.activity||i.href)){var r=i.activity&&(i.activity instanceof s["default"]?i.activity:i.activity.getInstance());l["default"].current?this.BaseActivityClass?l["default"].current.dropActivity(this.BaseActivityClass).then(function(){return l["default"].current.startActivity(r||i.href,!e.activityPushMode)}):l["default"].current.startActivity(r||i.href,!this.activityPushMode,!0):r?window.location.href=String(r instanceof s.ResourceActivity&&r.resourcePath||"#"):i.href&&(window.location.href=String(i.href))}return this},e.prototype.render=function(){var n=this;t.prototype.render.call(this),this._ul||(this._ul=document.createElement("ul"));for(var i=0;i<this.navItems.length;i++)if(this.navItems[i].activity&&l["default"].current)for(var r=l["default"].current.activities.top;r;){if(r===this.navItems[i].activity){this.selectedIndex=i;break}r=r.parentActivity&&(r.parentActivity instanceof s["default"]?r.parentActivity:l["default"].current.activities.getParent(r.parentActivity,r))}else if(this.navItems[i].href){var o=this.navItems[i].href;if("string"==typeof o&&/^#?\.\.?\//.test(o)){var u=o.slice(o.indexOf("/"));if(String("#"===o.charAt(0)?window.location.hash:window.location.pathname).slice(-u.length)===u){this.selectedIndex=i;break}}else{var u=o instanceof a.ActivityResourcePath?o:new a.ActivityResourcePath(this.navItems[i].href);if(u.match(window.location.href)){this.selectedIndex=i;break}}}var h="nav ";switch(this.type){case e.Type.Tabs:h+="nav-tabs";break;case e.Type.Pills:h+="nav-pills";break;case e.Type.StackedPills:h+="nav-pills nav-stacked"}this.justified&&(h+="nav-justified"),this._ul.className=h,this._li.length=this.navItems.length,f._replaceInner(this._ul,this.navItems.map(function(t,e){if(!t)return null;var i=n._li[e];i||(n._li[e]=i=document.createElement("li"),i.appendChild(document.createElement("a")),i.onclick=function(){return n.activate(e),!1}),c.Label.renderInto(i.firstChild,t.icon,t.iconGutter,t.label,t.badge);var r=e===n.selectedIndex;return i.className=r?"nav-item active":"nav-item",i.firstChild.className=r?"nav-link active":"nav-link",i})),this._containerBlock.container=this.navItems&&this.navItems[this.selectedIndex]&&this.navItems[this.selectedIndex].container||null,f._replaceInner(this.out,[this._ul,this._containerBlock.container?this._containerBlock.out:null])},e.prototype.getChildren=function(){return this.navItems.map(function(t){return t&&t.container}).filter(function(t){return t instanceof d["default"]})},r([o["default"].observable_nonNull],e.prototype,"navItems",void 0),r([o["default"].observable],e.prototype,"selectedIndex",void 0),r([o["default"].observable],e.prototype,"selectedKey",void 0),r([o["default"].observable],e.prototype,"type",void 0),r([o["default"].observable],e.prototype,"justified",void 0),r([o["default"].observable],e.prototype,"BaseActivityClass",void 0),r([o["default"].observable],e.prototype,"activityPushMode",void 0),e}(u["default"]);e.NavList=p;var p;!function(t){}(p=e.NavList||(e.NavList={}));var p;!function(t){!function(t){t[t.Tabs=0]="Tabs",t[t.Pills=1]="Pills",t[t.StackedPills=2]="StackedPills"}(t.Type||(t.Type={}));t.Type}(p=e.NavList||(e.NavList={})),p.setGlobalCSS("NavList"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=p},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(25),a=n(6),l=n(7),c=n(8),u=n(12),h=function(t){function e(n){var i=this;t.call(this),this.content=[],this.spacing=e.DEFAULT_SPACING,this._allShrink=o["default"].observe(function(){return i.content.every(function(t){return!t||t.hidden||t.shrinkwrap&&!(t.width&&"%"===t.width.slice(-1))})}),void 0!==n&&(this.content=n),this.tagName="row"}return i(e,t),e["with"]=function(t){return s["default"]["with"].call(this,t).then(function(e,n){e.content=c._transformFactoryArray(t.content,a.ControlElement,n)})},e.withContent=function(t){return this["with"]({content:t})},e.prototype.render=function(){if(t.prototype.render.call(this),this._wrapper||(this._wrapper=document.createElement("rowwrapper"),this.out.element.appendChild(this._wrapper)),this._wrapper.style.borderSpacing=this.spacing+" 0",this.height&&"auto"!==this.height){this.style.set({maxHeight:this.height,overflow:"hidden"});var e=parseFloat(this.height)||0,n=e?(e/2).toFixed(4)+this.height.replace(/^[\d\.]+/,""):"0";this._wrapper.style.margin=n+" 0 0 0",this._wrapper.style.transform="translateY(-50%)",this._wrapper.style.msTransform="translateY(-50%)"}else this.style.get("maxHeight")&&this.style.set({maxHeight:"auto",overflow:"visible"}),this._wrapper.style.margin=(this.verticalSpacing||this.spacing)+" 0",this._wrapper.style.transform="",this._wrapper.style.msTransform="";u._replaceInner(this._wrapper,this.content.map(function(t){return t&&t.out}).filter(function(t){return!!t})),this._wrapper.style.width=this._allShrink.value?"auto":"100%"},e.prototype.getChildren=function(){return this.content.filter(function(t){return t instanceof l["default"]})},e.DEFAULT_SPACING="1rem",r([o["default"].observable_nonNull],e.prototype,"content",void 0),r([o["default"].observable_string],e.prototype,"spacing",void 0),r([o["default"].observable],e.prototype,"verticalSpacing",void 0),e}(s["default"]);e.Row=h;var d=function(t){function e(){t.apply(this,arguments),this.spacing="0"}return i(e,t),e}(h);e.CloseRow=d,h.setGlobalCSS("Row",{lineHeight:"0",margin:"0",padding:"0",maxHeight:"auto",overflow:"visible"},{" rowwrapper":{display:"table"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(25),a=n(32),l=n(7),c=n(8),u=n(12),h=function(t){function e(e,n,i){var r=this;void 0===i&&(i=[]),t.call(this),this.options={},this._observeOptions=o["default"].observe(function(){return!r.options||(r.options.striped?r.style.addClass("table-striped"):r.style.removeClass("table-striped"),r.options.bordered?r.style.addClass("table-bordered"):r.style.removeClass("table-bordered"),r.options.hover?r.style.addClass("table-hover"):r.style.removeClass("table-hover"),r.options.condensed?r.style.addClass("table-condensed"):r.style.removeClass("table-condensed"),!0)}),this.header=new a.TableHeader(e,n),this.rows=i,this.tagName="table"}return i(e,t),e["with"]=function(t){return s["default"]["with"].call(this,t).then(function(e,n){e.header=c._transformObservableInitializer(t,"header",a["default"],n),e.rows=c._transformFactoryArray(t.rows,a["default"],n)})},e.withRows=function(t){return this["with"]({rows:t})},e.prototype.render=function(){t.prototype.render.call(this),this._thead||(this._thead=document.createElement("thead")),this._tbody||(this._tbody=document.createElement("tbody")),this._observeOptions.value,u._replaceInner(this._thead,this.header&&this.header.columns&&this.header.columns.length?[this.header.out]:[]),this.rows.forEach(function(t,e){t&&(t.rowIndex=e)}),u._replaceInner(this._tbody,this.rows.map(function(t){return t&&t.out})),u._replaceInner(this.out,[this._tbody.firstChild&&this._thead.firstChild?this._thead:null,this._tbody])},e.prototype.getChildren=function(){var t=this.rows.filter(function(t){return t instanceof l["default"]});return this.header&&t.unshift(this.header),t},e.prototype.getFormValues=function(e){return void 0===e&&(e={}),this.name?e[this.name]=this.rows.mapAsync(function(t){return o["default"].observe(function(){return t.getFormValues()})}):t.prototype.getFormValues.call(this,e),e},e.prototype.setFormValues=function(e){var n=this;o["default"].unobserved(function(){n.name&&e&&e[n.name]?n.rows.forEach(function(t,i){t&&t.setFormValues(e[n.name][i])}):t.prototype.setFormValues.call(n,e)})},r([o["default"].observable],e.prototype,"header",void 0),r([o["default"].observable_nonNull],e.prototype,"rows",void 0),r([o["default"].observable_nonNull],e.prototype,"options",void 0),r([o["default"].observable],e.prototype,"name",void 0),e}(s["default"]);e.Table=h,h.setGlobalCSS("Table table",{display:"table",margin:"0",borderSpacing:"initial"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(25),l=n(6),c=n(7),u=n(8),h=n(12),d=function(t){function e(e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i=[]),t.call(this),this.rowIndex=-1,this.colTagName="td",this.columns=e,this.widths=n,this.styles=i,this.tagName="tr"}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).then(function(e,n){e.columns=u._transformFactoryArray(t.columns,l.ControlElement,n,!0)})},e.withColumns=function(t){return this["with"]({columns:t})},e.prototype.render=function(){var e=this;t.prototype.render.call(this);var n=this.colTagName;this.styles.length=this.columns.length,h._replaceInner(this.out,this.columns.map(function(t,i){var r=document.createElement(n);if(t instanceof l.ControlElement&&(r.style.verticalAlign="middle"),e.styles[i]){var o=e.styles[i];o instanceof s["default"]||(o=new s["default"](o)),o.applyTo(r)}if(e.widths[i]&&(r.style.width=e.widths[i]),t instanceof a["default"]||t instanceof l.ControlElement){var c=document.createElement("div");c.style.display="inline-block",c.appendChild(t.out.element),r.appendChild(c)}else r.innerText=t||0===t?String(t):"",r.style.whiteSpace="pre-wrap";return r}))},e.prototype.getChildren=function(){return this.columns.filter(function(t){return t instanceof c["default"]})},r([o["default"].observable_nonNull],e.prototype,"columns",void 0),r([o["default"].observable_nonNull],e.prototype,"widths",void 0),r([o["default"].observable_nonNull],e.prototype,"styles",void 0),e}(a["default"]);e.TableRow=d;var f=function(t){function e(){t.apply(this,arguments),this.colTagName="th"}return i(e,t),e}(d);e.TableHeader=f,d.setGlobalCSS("TableRow",{display:"table-row",boxSizing:"border-box",position:"initial"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=d},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(6),a=n(21),l=n(8),c=n(12),u=function(t){function e(e){t.call(this),this.height="auto",this.block=e||new s.Row}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).then(function(e,n){e.block=l._transformObservableInitializer(t,"block",s.Block,n)})},e.prototype.render=function(){this.style.set({height:this.height}),t.prototype.render.call(this),c._replaceInner(this.out,[this.block&&this.block.out])},e.prototype.getChildren=function(){return this.block?[this.block]:[]},r([o["default"].observable],e.prototype,"block",void 0),r([o["default"].observable_string],e.prototype,"height",void 0),e}(a["default"]);e.BlockControl=u,u.setGlobalCSS("BlockControl"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(17),a=n(21),l=n(8),c=n(12),u=function(t){function e(e){var n=this;t.call(this),this.shrinkwrap=!0,this.makeActivePrimary=!0,this._watchActive=o["default"].observe(function(){return n.buttons.forEach(function(t,e){t&&o["default"].observe(function(){return t.active?(n._active.value=e,n.multiToggle||n.buttons.forEach(function(e){e&&e!==t&&(e.active=!1)})):n.multiToggle||n._active.getLastValue()!==e||(t.active=!0),n.makeActivePrimary&&(t.primary=t.active),!0}).value}),!0}),this._active=new o["default"].ObservableValue,this.buttons=e||[]}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).then(function(e,n){e.buttons=l._transformFactoryArray(t.buttons,a["default"],n),void 0!==t.activeIndex&&e.activate(e.activeIndex)})},e.withButtons=function(t,e,n,i){return this["with"]({buttons:t,activeIndex:e,multiToggle:n,Click:i})},Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._active.value},set:function(t){this.activate(t)},enumerable:!0,configurable:!0}),e.prototype.activate=function(t){t=Number(t);var e=this.buttons[t];this._active.value=e?t:void 0,e instanceof s["default"]&&!e.active&&e.Click()},e.prototype.render=function(){t.prototype.render.call(this),c._replaceInner(this.out,this.buttons.map(function(t){var e=t&&t.out;return t&&t.width&&t.style_button.set("width","auto"===t.width?"":t.width),e?e.liveElement=e.elements&&e.elements.btn:null})),this.vertical?this.style.removeClass("btn-group").addClass("btn-group-vertical"):this.style.removeClass("btn-group-vertical").addClass("btn-group"),this.justified?this.style.addClass("btn-group-justified"):this.style.removeClass("btn-group-justified"),this._watchActive.value},r([o["default"].observable_nonNull],e.prototype,"buttons",void 0),r([o["default"].observable],e.prototype,"vertical",void 0),r([o["default"].observable],e.prototype,"justified",void 0),r([o["default"].observable],e.prototype,"makeActivePrimary",void 0),r([o["default"].observable],e.prototype,"multiToggle",void 0),r([o["default"].observable],e.prototype,"activeIndex",null),e}(a["default"]);e.ButtonGroup=u,u.setGlobalCSS("ButtonGroup",void 0,{" button":{marginTop:"-.25rem",marginBottom:"-.25rem","float":"none"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(21),l=n(12),c=function(t){function e(e,n,i){void 0===e&&(e=100),void 0===n&&(n=100),void 0===i&&(i=1),t.call(this),this.shrinkwrap=!0,this.style_canvas=new s["default"],this.width=e+"px",this.height=n+"px",this.scale=i,this._canvasElement=document.createElement("canvas"),this._canvasElement.width=e*i,this._canvasElement.height=n*i,this._2dCtx=this._canvasElement.getContext("2d")}return i(e,t),Object.defineProperty(e.prototype,"drawingContext",{get:function(){return this._2dCtx},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._2dCtx.clearRect(0,0,this._canvasElement.width,this._canvasElement.height)},e.prototype.render=function(){t.prototype.render.call(this),this.style_canvas.applyToAsync(this._canvasElement);var e=this.out.element;"px"===String(this.width).slice(-2)&&(this._canvasElement.width=parseFloat(String(this.width))*this.scale),"px"===String(this.height).slice(-2)&&(this._canvasElement.height=parseFloat(String(this.height))*this.scale),e.style.height=this.height,this._canvasElement.style.width=this.width,this._canvasElement.style.height=this.height,l._replaceInner(e,[this._canvasElement])},r([o["default"].observable_string],e.prototype,"height",void 0),r([o["default"].observable_number],e.prototype,"scale",void 0),r([o["default"].observable_nonNull],e.prototype,"style_canvas",void 0),e}(a["default"]);e.Canvas=c,c.setGlobalCSS("Canvas",void 0,{" canvas":{display:"block"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=Image},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(6),a=n(21),l=n(8),c=n(12),u=function(t){function e(e){t.call(this),this.height="auto",this.container=e||new s.Container}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).then(function(e,n){e.container=l._transformObservableInitializer(t,"container",s.Container,n)})},e.prototype.render=function(){t.prototype.render.call(this),this.container instanceof s.LayoutContainer&&(!this.height||"auto"===this.height)?this.style.set({height:"100%"}):this.style.set({height:this.height||"auto"}),!this.container||!this.container.maxContentWidth||"auto"===this.container.maxContentWidth||this.width&&"auto"!==this.width||this.style.set({maxWidth:this.container.maxContentWidth}),c._replaceInner(this.out,[this.container&&this.container.out])},e.prototype.getChildren=function(){return this.container?[this.container]:[]},r([o["default"].observable],e.prototype,"container",void 0),r([o["default"].observable_string],e.prototype,"height",void 0),e}(a["default"]);e.ContainerControl=u,u.setGlobalCSS("ContainerControl"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(21),a=n(22),l=n(12),c=function(t){function e(e){t.call(this),this.shrinkwrap=!0,this.icon=e||""}return i(e,t),e.withIcon=function(t){return this["with"]({icon:t})},e.prototype.render=function(){t.prototype.render.call(this);var e=this.out.element;a["default"].renderInto(e,this.icon),this.tooltipTitle&&(e.title=this.tooltipTitle),this.focusable?e.tabIndex=0:e.removeAttribute("tabIndex")},e.prototype.focus=function(){var t=this;o["default"].defer(function(){return l._focusElementASAP(t.out.element)})},e.prototype.blur=function(){var t=this;o["default"].defer(function(){return t.out.element.blur()})},r([o["default"].observable_string],e.prototype,"icon",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable],e.prototype,"focusable",void 0),e}(s["default"]);e.Icon=c,c.setGlobalCSS("Icon",{cursor:"inherit",textAlign:"center",lineHeight:"1em"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),
s},o=n(3),s=n(2),a=n(21),l=n(12),c=function(t){function e(e){var n=this;void 0===e&&(e=""),t.call(this),this.shrinkwrap=!0,this.style_img=new s["default"],this.hasError=!1,this.ready=new o["default"].Promise(function(t){n._resolveReady=t}),this.imageUrl=e}return i(e,t),e.withUrl=function(t){return this["with"]({imageUrl:t})},e.prototype.render=function(){var e=this;t.prototype.render.call(this);var n=this.out.element;this._imgElement||(this._imgElement=document.createElement("img"),this._imgElement.onload=function(){e.hasError=!1,e._resolveReady(!0)},this._imgElement.onerror=function(){e.hasError=!0,e._resolveReady(!0)}),this.style_img.applyToAsync(this._imgElement),this._imgElement.src=this.imageUrl,l._replaceInner(n,[this._imgElement]),this.focusable?n.tabIndex=0:n.removeAttribute("tabIndex"),this.tooltipTitle&&(n.title=this.tooltipTitle)},e.prototype.focus=function(){var t=this;o["default"].defer(function(){return l._focusElementASAP(t.out.element)})},e.prototype.blur=function(){var t=this;o["default"].defer(function(){return t.out.element.blur()})},r([o["default"].observable_string],e.prototype,"imageUrl",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable],e.prototype,"focusable",void 0),r([o["default"].observable_nonNull],e.prototype,"style_img",void 0),r([o["default"].observable],e.prototype,"hasError",void 0),e}(a["default"]);e.Image=c,c.setGlobalCSS("Image",void 0,{" img":{margin:"0",outline:"0",maxWidth:"100%"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(21),l=function(t){function e(e){void 0===e&&(e=0),t.call(this),this.style_bar=new s["default"],this.progress=e,this.style_bar.addClass("progress-bar")}return i(e,t),e.withProgress=function(t){return this["with"]({progress:t})},e.prototype.render=function(){if(t.prototype.render.call(this),!this._barElement){this._barElement=document.createElement("span");var e=document.createElement("div");e.className="progress",e.appendChild(this._barElement),this.out.element.appendChild(e)}this.style_bar.set({width:(Math.max(0,Math.min(100,100*this.progress))||0)+"%"}),this.style_bar.applyToAsync(this._barElement),this.tooltipTitle&&(this.out.element.title=this.tooltipTitle)},r([o["default"].observable_number],e.prototype,"progress",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable_nonNull],e.prototype,"style_bar",void 0),e}(a["default"]);e.ProgressBar=l,l.setGlobalCSS("ProgressBar",void 0,{" .progress":{margin:"0"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(21),a=function(t){function e(e){void 0===e&&(e="1px"),t.call(this),this.tagName="spacer",void 0!==e&&(this.height=e)}return i(e,t),e.prototype.render=function(){var e="1px"===this.height?"":this.height;this.style.set({height:e,lineHeight:e}),t.prototype.render.call(this),this.out.element.innerHTML="&#8203;"},r([o["default"].observable_string],e.prototype,"height",void 0),e}(s["default"]);e.Spacer=a,a.setGlobalCSS("Spacer",{height:"1px",lineHeight:"1px"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(6),a=n(21),l=n(7),c=n(8),u=n(12),h=function(t){function e(n){t.call(this),this.content=[],this.spacing=s.Row.DEFAULT_SPACING,this.horizontalAlign=e.Alignment.Start,void 0!==n&&(this.content=n),this.tagName="stack"}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).then(function(e,n){e.content=c._transformFactoryArray(t.content,a["default"],n)})},e.withContent=function(t){return this["with"]({content:t})},e.prototype.render=function(){var n=this;t.prototype.render.call(this),this._wrappers||(this._wrappers=this.content.mapAsync(function(t){return o["default"].observe(function(){if(!(t instanceof l["default"]))return null;var i=document.createElement("div");return i.style.padding=n.spacing+" 0",i.style.margin="-"+n.spacing+" 0",n.horizontalAlign===e.Alignment.End?i.style.marginLeft="auto":n.horizontalAlign===e.Alignment.Center&&(i.style.marginLeft=i.style.marginRight="auto"),i.appendChild(t.out.element),i})})),u._replaceInner(this.out,this._wrappers)},e.prototype.getChildren=function(){return this.content.filter(function(t){return t instanceof l["default"]})},r([o["default"].observable_nonNull],e.prototype,"content",void 0),r([o["default"].observable_string],e.prototype,"spacing",void 0),r([o["default"].observable],e.prototype,"horizontalAlign",void 0),e}(a["default"]);e.Stack=h;var h;!function(t){!function(t){t[t.Start=0]="Start",t[t.Center=1]="Center",t[t.End=2]="End"}(t.Alignment||(t.Alignment={}));t.Alignment}(h=e.Stack||(e.Stack={}));var d=function(t){function e(){t.apply(this,arguments),this.spacing="0"}return i(e,t),e}(h);e.CloseStack=d,h.setGlobalCSS("Stack",void 0,{" > div":{display:"table",tableLayout:"fixed",borderSpacing:"0",width:"100%"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(21),a=function(t){function e(){t.apply(this,arguments),this.ValueChange=this.defineDOMEventSignal("change")}return i(e,t),r([o["default"].observable_string],e.prototype,"name",void 0),r([o["default"].observable_string],e.prototype,"label",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable],e.prototype,"disabled",void 0),e}(s["default"]);e.InputControl=a,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(42),l=n(12),c=function(t){function e(n,i,r,o){var a=this;void 0===n&&(n="checkbox"),void 0===r&&(r=e.Type.Checkbox),void 0===o&&(o=!1),t.call(this),this.value="checked",this.shrinkwrap=!0,this.style_label=new s["default"],this.style_input=new s["default"],this.label=i,this.name=n,this.type=r,this.checked=o,this.Click.connect(function(){if(a.checked=a._inputElement.checked,a.name&&a.type){var t=document.querySelectorAll('input[type="radio"][name="'+a.name+'"]'),e=document.createEvent("Events");e.initEvent("change",!0,!1);for(var n=0,i=t;n<i.length;n++){var r=i[n];r.dispatchEvent(e)}}}),this.ValueChange.connect(function(){a.checked=a._inputElement.checked}),this.Blur.connect(function(){a.checked=a._inputElement.checked})}return i(e,t),e.withName=function(t,e,n,i){return this["with"]({name:t,label:e,checked:n,value:i})},e.withRadioName=function(t,n,i,r){return this["with"]({name:t,label:n,checked:i,value:r,type:e.Type.Radio})},e.prototype.render=function(){t.prototype.render.call(this),this._inputElement||(this._labelElement=document.createElement("label"),this._inputElement=document.createElement("input"),this._textElement=document.createElement("span"),this._labelElement.appendChild(this._inputElement),this._labelElement.appendChild(document.createTextNode(" ")),this._labelElement.appendChild(this._textElement),this.out.element.appendChild(this._labelElement)),this.style_label.applyToAsync(this._labelElement),this.style_input.applyToAsync(this._inputElement),this._inputElement.checked=this.checked,this._inputElement.type=e.Type[this.type].toLowerCase(),this._inputElement.value=this.value,this._inputElement.disabled=this.disabled,this._inputElement.name=this.name,this._textElement.textContent=this.label,this.type?this.style.removeClass("checkbox").addClass("radio"):this.style.removeClass("radio").addClass("checkbox"),this.tooltipTitle&&(this._labelElement.title=this.tooltipTitle)},e.prototype.getFormValues=function(t){return void 0===t&&(t={}),!this.name||!this.checked&&this.type||(t[this.name]=this.checked?void 0!==this.value?this.value:"checked":void 0),t},e.prototype.setFormValues=function(t){var e=this;o["default"].unobserved(function(){e.name&&t&&Object.prototype.hasOwnProperty.call(t,e.name)&&(e.checked=e.type&&void 0!==e.value?t[e.name]===e.value:!!t[e.name])})},e.prototype.focus=function(){this._inputElement&&l._focusElementASAP(this._inputElement)},e.prototype.blur=function(){this._inputElement&&this._inputElement.blur()},r([o["default"].observable],e.prototype,"type",void 0),r([o["default"].observable],e.prototype,"value",void 0),r([o["default"].observable],e.prototype,"checked",void 0),r([o["default"].observable_nonNull],e.prototype,"style_label",void 0),r([o["default"].observable_nonNull],e.prototype,"style_input",void 0),e}(a["default"]);e.Checkbox=c;var c;!function(t){!function(t){t[t.Checkbox=0]="Checkbox",t[t.Radio=1]="Radio"}(t.Type||(t.Type={}));t.Type}(c=e.Checkbox||(e.Checkbox={})),c.setGlobalCSS("Checkbox",void 0,{" label":{margin:"0",paddingTop:"0",paddingBottom:"0",display:"inline"}})},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(42),l=n(12),c=function(t){function e(e,n,i){var r=this;void 0===e&&(e="select"),t.call(this),this.style_label=new s["default"],this.style_select=new s["default"],this._observedValue="",this.label=n,this.options=i||[],this.name=e,this.style_select.addClass("form-control").set({boxSizing:"border-box",width:"100%"}),this.ValueChange.connect(function(){r._observedValue=r._selectElement.value}),this.Blur.connect(function(){r._observedValue=r._selectElement.value});var a=!1;Object.defineProperty(this,"value",{enumerable:!0,configurable:!1,get:function(){var t=r._observedValue||"";return!a&&r._selectElement?r._selectElement.value:t},set:function(t){r._observedValue=t,a=!0}}),o["default"].observe(function(){a=!1;var t=r._observedValue;r._selectElement?r._selectElement.value!=t&&(r._selectElement.value=t):r._initValueSet=t}).watch()}return i(e,t),e.withOptions=function(t,e,n){return void 0===n&&(n=[]),this["with"]({name:t,label:e,options:n})},e.prototype.render=function(){t.prototype.render.call(this),this._selectElement||(this._labelElement=document.createElement("label"),this._labelElement.htmlFor=this.elementID+"_select",this.out.element.appendChild(this._labelElement),this._selectElement=document.createElement("select"),this._selectElement.id=this.elementID+"_select",this.out.element.appendChild(this._selectElement)),this.style_select.applyToAsync(this._selectElement),this.style_label.applyToAsync(this._labelElement),l._replaceInner(this._selectElement,this.options.filter(function(t){return!!t}).map(function(t){var e=document.createElement("option"),n=e.textContent=String(t.text);return e.value=void 0!==t.value?t.value:n,e})),void 0!==this._initValueSet&&(this._selectElement.value=this._initValueSet,this._initValueSet=void 0),this._selectElement.disabled=this.disabled,this._selectElement.name=this.name;var e=this._labelElement.textContent=this.label;e?this.style_label.show():this.style_label.hide(),this.tooltipTitle&&(this._selectElement.title=this.tooltipTitle)},e.prototype.getFormValues=function(t){return void 0===t&&(t={}),this.name&&(t[this.name]=this.value),t},e.prototype.setFormValues=function(t){var e=this;o["default"].unobserved(function(){e.name&&t&&Object.prototype.hasOwnProperty.call(t,e.name)&&(e.value=t[e.name])})},e.prototype.focus=function(){this._selectElement&&l._focusElementASAP(this._selectElement)},e.prototype.blur=function(){this._selectElement&&this._selectElement.blur()},r([o["default"].observable_nonNull],e.prototype,"options",void 0),r([o["default"].observable_nonNull],e.prototype,"style_label",void 0),r([o["default"].observable_nonNull],e.prototype,"style_select",void 0),r([o["default"].observable],e.prototype,"_observedValue",void 0),e}(a["default"]);e.SelectField=c,c.setGlobalCSS("SelectField"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(42),l=n(12),c=function(t){function e(n,i,r){var a=this;void 0===n&&(n="text"),void 0===r&&(r=0),t.call(this),this.type=e.Type.Text,this.style_label=new s["default"],this.style_input=new s["default"],this.KeyPress=this.defineDOMEventSignal("keypress"),this.KeyUp=this.defineDOMEventSignal("keyup"),this.EnterPress=o["default"].defineSignal(),this._observedValue="",this.label=i,this.name=n,this.textareaLines=r,this.style_input.addClass("form-control").set({boxSizing:"border-box",width:"100%"}),this.ValueChange.connect(function(){a._observedValue=a._inputElement.value}),this.Blur.connect(function(){a._observedValue=a._inputElement.value}),this.KeyDown.connect(function(t){13!=t.keyCode||a.textareaLines||(a._observedValue=a._inputElement.value,a.EnterPress(t))});var l=!1;Object.defineProperty(this,"value",{enumerable:!0,configurable:!1,get:function(){var t=a._observedValue||"";return!l&&a._inputElement?a._inputElement.value:t},set:function(t){a._observedValue=t,l=!0}}),o["default"].observe(function(){l=!1;var t=a._observedValue;void 0!==t&&null!==t||(t=""),a._inputElement?a._inputElement.value!=t&&(a._inputElement.value=t):a._initValueSet=t}).watch()}return i(e,t),e.withName=function(t,e,n){return this["with"]({name:t,label:e,placeholderText:n})},e.prototype.render=function(){t.prototype.render.call(this),this._inputElement||(this._labelElement=document.createElement("label"),this._labelElement.htmlFor=this.elementID+"_input",this.out.element.appendChild(this._labelElement),this._inputElement=document.createElement(this.textareaLines?"textarea":"input"),this._inputElement.id=this.elementID+"_input",this.out.element.appendChild(this._inputElement)),this.style_input.applyToAsync(this._inputElement),this.style_label.applyToAsync(this._labelElement),void 0!==this._initValueSet&&(this._inputElement.value=this._initValueSet,this._initValueSet=void 0),this._inputElement.disabled=this.disabled,this._inputElement.name=this.name,this._inputElement.placeholder=String(this.placeholderText||""),this.textareaLines?this._inputElement.rows=this.textareaLines:this._inputElement.setAttribute("type",e.Type[this.type].toLowerCase());var n=this._labelElement.textContent=this.label;n?this.style_label.show():this.style_label.hide(),this.tooltipTitle&&(this._inputElement.title=this.tooltipTitle)},e.prototype.selectText=function(t,e){var n=this;if(void 0===t&&(t=0),!this._inputElement)return void this.Rendered.connect(function(){return n.selectText(t,e)});if(e||0===e||(e=this._inputElement.value.length),this._inputElement.focus(),this._inputElement.createTextRange){var i=this._inputElement.createTextRange();i.collapse(!0),i.moveStart("character",t),i.moveEnd("character",e),i.select()}else this._inputElement.setSelectionRange?this._inputElement.setSelectionRange(t,e):this._inputElement.selectionStart&&(this._inputElement.selectionStart=t,this._inputElement.selectionEnd=e);return this},e.prototype.getFormValues=function(t){return void 0===t&&(t={}),this.name&&(t[this.name]=this.value),t},e.prototype.setFormValues=function(t){var e=this;o["default"].unobserved(function(){e.name&&t&&Object.prototype.hasOwnProperty.call(t,e.name)&&(e.value=t[e.name])})},e.prototype.focus=function(){this._inputElement&&l._focusElementASAP(this._inputElement)},e.prototype.blur=function(){this._inputElement&&this._inputElement.blur()},r([o["default"].observable],e.prototype,"type",void 0),r([o["default"].observable_string],e.prototype,"placeholderText",void 0),r([o["default"].observable_nonNull],e.prototype,"style_label",void 0),r([o["default"].observable_nonNull],e.prototype,"style_input",void 0),r([o["default"].observable],e.prototype,"_observedValue",void 0),e}(a["default"]);e.TextField=c;var c;!function(t){!function(t){t[t.Text=0]="Text",t[t.Password=1]="Password",t[t.DateTime=2]="DateTime",t[t.Date=3]="Date",t[t.Month=4]="Month",t[t.Time=5]="Time",t[t.Week=6]="Week",t[t.Number=7]="Number",t[t.Email=8]="Email",t[t.Url=9]="Url",t[t.Search=10]="Search",t[t.Tel=11]="Tel",t[t.Color=12]="Color"}(t.Type||(t.Type={}));t.Type}(c=e.TextField||(e.TextField={})),c.setGlobalCSS("TextField"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(9),o=n(6),s=function(t){function e(e,n,i){void 0===i&&(i="Dismiss"),t.call(this),this.initializeWith({header:e?[e instanceof r["default"]?e:r.tl(e,o.WideLabel),o.Spacer,o.DialogContainer.TopCloseButton]:null,content:[o.Row["with"]({content:n.forEach?[o.Stack.withContent(n.map(function(t){return t instanceof r["default"]?t:r.tl(t,o.Paragraph)}))]:[n instanceof r["default"]?n:r.tl(n,o.Paragraph)],verticalSpacing:"1.5rem"}),[o.Spacer,o.PrimaryButton["with"]({label:i,hasFocus:!0,Click:"close"})]]})}return i(e,t),e}(o.DialogContainer);e.MessageDialog=s,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(9),s=n(6),a=n(5),l=function(t){function e(e,n,i,l){var c=this;void 0===i&&(i="Confirm"),void 0===l&&(l="Cancel"),t.call(this),this.Confirmed=r["default"].defineSignal(),this.initializeWith({header:e?[e instanceof o["default"]?e:o.tl(e,s.WideLabel),s.Spacer,s.DialogContainer.TopCloseButton]:null,content:[s.Row["with"]({content:n.forEach?[s.Stack.withContent(n.map(function(t){return t instanceof o["default"]?t:o.tl(t,s.Paragraph)}))]:[n instanceof o["default"]?n:o.tl(n,s.Paragraph)],verticalSpacing:"1.5rem"}),[s.Spacer,s.LinkButton["with"]({label:l,hasFocus:!0,Click:"close"}),s.PrimaryButton["with"]({label:i,Click:new a.EventHandler(function(){c.Confirmed(),c.close()})})]]})}return i(e,t),e}(s.DialogContainer);e.ConfirmationDialog=l,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(2),s=n(11),a=n(6),l=[],c=function(t){function e(e,n){void 0===n&&(n=4e3),t.call(this),this.timeout=n,this.initializeWith({content:[e instanceof a.TextLabelFactory?e:a.tl(e,a.Paragraph)],Click:"close"}),this.style.set({position:"absolute",opacity:"0",transform:"translateX(-50%)"})}return i(e,t),e.closeAll=function(){for(var t=l.length-1;t>=0;t--)l[t].close()},e.prototype.display=function(){var e=this;return t.prototype.display.call(this),r["default"].Promise.sleep(5).then(function(){if(e.out.element.style.opacity="1",e.out.element.style.transform="",l.length){var t=e.out.element.offsetHeight+8;l.forEach(function(e){var n=e.out.element,i=parseInt(n.style.bottom)||0;n.style.bottom=i+t+"px"})}l.push(e)}),r["default"].Promise.sleep(this.timeout).then(function(){e.close()}),this},e.prototype.close=function(){var t=this;if(!s["default"].isDisplayed(this))return void(l=l.filter(function(e){return e!==t}));for(var e=[];;){var n=l.indexOf(this);if(n<0)break;for(l.splice(n,1),n--;n>=0;n--)e.push(l[n].out.element)}if(e.length){var i=this.out.element.offsetHeight+8;r["default"].sleep(200).then(function(){e.forEach(function(t){var e=parseInt(t.style.bottom)||0;t.style.bottom=e-i+"px"})})}this.out.element.style.opacity="0",this.out.element.style.transform="translateX(-50%)",r["default"].Promise.sleep(400).then(function(){s["default"].remove(t)})},e}(a.Container);e.Notification=c,c.setGlobalCSS("Notification",[o["default"].DROPCARD,{background:"#333",color:"#fff",width:"20rem",position:"absolute",top:"auto",right:"auto",left:"1rem",bottom:"0",height:"auto",marginBottom:"1rem",transition:"transform .2s ease, opacity .3s ease, bottom .1s ease",zIndex:"100000",textAlign:"left"}]),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(11),s=n(2),a=n(7),l=n(25),c=n(22),u=function(){function t(t){this.options=t?t.slice():[]}return t.displayContext=function(e,n){return new t(n)._display({x:e.clientX,y:e.clientY})},t.displayDropdown=function(e,n){var i=e.getBoundingClientRect();return new t(n)._display({x:i.right,y:i.bottom},!0,i.bottom-i.top)},t.prototype.display=function(t,e){return this._display(t,e)},t.prototype._display=function(e,n,i,s,a){this.options||(this.options=[]);var l=document.createElement("ul");l.style.cssFloat="none",l.style.position="static",l.style.boxShadow="none",l.style.margin="0",l.className="dropdown-menu show";var u=document.createElement("div");u.className="dropdown open",u.appendChild(l);var d,f,p=new h(u),v=new r["default"].Promise(function(t,e){d=t,f=e});if(e.x+200<o["default"].width&&(!n||e.x<200)?p.style.set({left:e.x+"px",right:"auto"}):p.style.set({right:o["default"].width-e.x+(s||0)+"px",left:"auto"}),e.y+this.options.length*t.ITEM_HEIGHT_PX+10<o["default"].height)p.style.set({top:e.y+"px",bottom:"auto"});else{p.style.set({bottom:o["default"].height-e.y+(i||0)+"px",top:"auto"});var y=function(){p.out.element.offsetTop<0&&p.style.set({top:"0",bottom:"auto"})};window.setTimeout(y,10),window.setTimeout(y,50),window.setTimeout(y,100)}var b,_=200,m=-1,g=function(){m=-1;for(var t=p.out.element;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)},w=this.options.some(function(t){return t&&!!t.icon});return this.options.forEach(function(e,n){if(e){var i=document.createElement("li");if(e.disabled&&(i.className="disabled"),e.divider)i.className="divider dropdown-divider";else{var r=document.createElement("a");if(r.className="dropdown-item",r.style.cursor="pointer",c["default"].renderInto(r,e.icon,w?1.5:0,String(e.label)),w&&(r.style.paddingLeft=".5rem"),e.iconRight){var s=document.createElement("span");s.style.cssFloat="right",c["default"].renderInto(s,e.iconRight),r.appendChild(s)}i.appendChild(r),e.disabled||e.subMenu?r.style.cursor="default":r.onclick=function(){a||o["default"].remove(p),d(e.key||n+1)},r.onmouseover=function(){b&&(window.clearTimeout(b),b=null),m!=n&&(b=window.setTimeout(function(){if(g(),b=null,e.subMenu){m=n;var r=i.getBoundingClientRect(),s=e.subMenu instanceof t?e.subMenu:new t(e.subMenu);s._display({x:r.right-5,y:r.top},!1,-t.ITEM_HEIGHT_PX,r.right-r.left-10,p.out.element.parentNode).then(function(t){if(a||o["default"].remove(p),"number"==typeof t&&t>0){for(var e=100;e<=t;)e*=100;t=(n+1)*e+t}d(t)})}},_))}}l.appendChild(i)}}),l.onmouseout=function(t){b&&window.clearTimeout(b),t.target===l&&m<0&&(b=window.setTimeout(function(){g(),b=null},_))},a?a.appendChild(p.out.element):o["default"].displayModal(p,function(){o["default"].remove(p),f(new Error)},!1,void 0,void 0,void 0,!0),v},t.ITEM_HEIGHT_PX=22,t}();e.Menu=u;var h=function(t){function e(e){t.call(this,e),this.style.set({position:"absolute"}).set(s["default"].DROPCARD_UP).addClass(a.CSS_CLASS_PREFIX+"Menu")}return i(e,t),e}(l["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=n(11),r=n(1),o=function(){function t(t,e){this._container=t;var n=this._popover=document.createElement("div");n.style.position="relative";var i=this._arrow=document.createElement("div");if(i.className="arrow popover-arrow",n.appendChild(i),e){var r=document.createElement("div");r.className="popover-title",r.innerText=String(e),n.appendChild(r)}var o=this._content=document.createElement("div");o.className="popover-content",o.style.padding="0",n.appendChild(o)}return t.prototype.displayBelow=function(t){var e=t&&t.getBoundingClientRect();e&&(this._populate(),this._popover.className="popover bottom popover-bottom show",this._display(e.left+e.right>>1,e.bottom))},t.prototype.displayAbove=function(t){var e=t&&t.getBoundingClientRect();e&&(this._populate(),this._popover.className="popover top popover-top show",this._display(e.left+e.right>>1,e.top-10,!0))},t.prototype._display=function(t,e,n){var o=this,s=new r.Block(this._popover),a=t>i["default"].width>>1;s.style.set({position:"absolute",top:n?"auto":e+"px",bottom:n?i["default"].height-e+"px":"auto",left:a?"auto":t+"px",right:a?i["default"].width-t+"px":"auto",overflow:"visible",transform:a?"translateX(50%)":"translateX(-50%)"}),i["default"].displayModal(s,void 0,!1,void 0,void 0,void 0,!0);var l=function(){var e=o._popover.getBoundingClientRect();e&&(e.right>i["default"].width?(s.style.set({right:"0",transform:""}),o._arrow.style.left="auto",o._arrow.style.right=i["default"].width-t+"px",o._arrow.style.marginRight=window.getComputedStyle(o._arrow).marginLeft):e.left<0&&(s.style.set({left:"0",transform:""}),o._arrow.style.right="auto",o._arrow.style.left=t+"px"),e.bottom>i["default"].height?(o._arrow.hidden=!0,s.style.set({bottom:"0",top:"auto"})):e.top<0&&(o._arrow.hidden=!0,s.style.set({top:"0",bottom:"auto"})))};window.setTimeout(l,10),window.setTimeout(l,50),window.setTimeout(l,100),this._arrow.hidden=!1},t.prototype._populate=function(){var t=this._container.out.element;if(this._content.firstChild!==t){for(;this._content.firstChild;)this._content.removeChild(this._content.firstChild);this._content.appendChild(t)}this._container.maxContentWidth&&"auto"!==this._container.maxContentWidth&&(t.style.maxWidth=this._container.maxContentWidth)},t}();e.PopOver=o,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(11),s=n(18),a=function(t){function e(e,n,i,o){var s=this;t.call(this,o),this.Displaying=r["default"].defineSignal(),this.Displayed=r["default"].defineSignal(),e&&(this.title=e),n&&(this.view=n),i&&(this.parentActivity=i),this.Activated.connect(function(t){return s._displayView(!1,t)}),this.Resumed.connect(function(t){return s._displayView(!0,t)}),this.Suspended.connect(function(t){return s._removeView(t)})}return i(e,t),e.prototype._displayView=function(t,n,i,a){var l=this,c=function(){if(!a&&l.parentActivity)if(a=l.parentActivity instanceof Function?n.activityManager.getParent(l.parentActivity,l):l.parentActivity,a instanceof e)a._displayView(t,n,i||l);else if(!(a instanceof s["default"]))throw new Error("No suitable parent view defined");l.view&&!o["default"].isDisplayed(l.view)&&(l.view.displayOptions&&l.view.displayOptions.modal?l.view.Closed&&l.view.Closed.connectOnce(function(){return n.activityManager.top===l&&n.activityManager.pop()}):o["default"].clear(!0),l.view.display())};i?c():r["default"].sleep(2).then(function(){if(n.activityManager.top===l){for(var e=n,i=0;e;e=e.previous,i++);var o=Object.freeze({transition:n,firstDisplay:!t,forward:n.operation!==s.ActivityTransition.Operation.Pop,hops:i}),a=new l.Displaying(o);r["default"].Promise.all(a.emit().results).then(function(){n.activityManager.top===l&&(c(),l.Displayed(o))},function(t){if(n.activityManager.top===l)throw n.activityManager.pop(),new Error("Dropping activity: "+t.message)})}})},e.prototype._removeView=function(t){t.operation!==s.ActivityTransition.Operation.Push&&o["default"].remove(this.view,!0)},e}(s.ResourceActivity);e.ViewActivity=a;var l=function(t){function e(){t.call(this);var e=this.constructor;if(e._instance)throw new Error("Cannot create another instance of this activity");e._instance=this}return i(e,t),e.getInstance=function(){return this._instance||new this},e}(a);e.SingletonViewActivity=l,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a}])}]);